{
  "hash": "eb4ba321a40a3d44bfa30356af6a4377",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Tutorial on analysis pipelines for visual experience datasets\"\nauthor: \"Johannes Zauner, Aaron Nicholls, Lisa Ostrin, and Manuel Spitschan\"\nformat:\n  html:\n    toc: true\n    number-sections: true\n    code-tools: true\n    html-math-method:\n      method: mathjax\n      url: \"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML\"\nbibliography: references.bib\nlightbox: true\n---\n\n\n\n## Abstract\n\nThis tutorial presents an analysis pipeline for visual experience datasets, with a focus on reproducible workflows tailored for use in human chronobiology and myopia research. Light exposure and its retinal encoding affect human physiology and behaviour over various time scales. Here, we provide step-by-step instructions for importing, visualising, and processing data for viewing distance and light exposure data using the open-source tool LightLogR. This includes time-series analysis for working distance, spectral characteristics, and biologically relevant light metrics. By leveraging a modular approach, this tutorial supports researchers in building flexible and robust pipelines that can accommodate diverse experimental paradigms and measurement systems.\n\n\n## Introduction\n\nExposure to the optical environment — often referred to as visual experience — profoundly influences human physiology and behaviour across multiple time scales. Two notable examples, though from distinct research domains, can be understood through a common, retinally-referenced conceptual framework.\n\nThe first relates to the non-visual effects of light on human circadian and neuroendocrine physiology. The light–dark cycle entrains the circadian clock, and light exposure during the night suppresses melatonin production [@Brown2022PLoSBiol; @Blume2019Somnologie].\n\nThe second concerns the influence of visual experience on ocular development, particularly myopia. Time spent outdoors — characterised by distinct optical environments — has been consistently associated with protective effects on ocular growth and health outcomes [@DahlmannNoor2025GraefesArchClinExpOphthal].\n\nIn controlled laboratory settings, light exposure can be held constant or manipulated parametrically. However, such exposures rarely replicate real-world conditions, which are inherently complex and dynamic. As people move in and between spaces (indoors and outdoors) and move their body, head, and eyes, the exposure to the optical environment varies significantly [@Webler2019CurrOpinBehavSci], and is modulated by behaviour [@Biller2024CommunPsychol]. Wearable devices for measuring light exposure have thus emerged as vital tools in capturing the richness of ecological visual experience. These tools generate high-dimensional datasets that demand rigorous and flexible analysis strategies.\n\nStarting in the 1980s [@Okudaira1983AmJPhysiol], technology to measure exposure to the optical environment has been developed and matured, with miniaturized illuminance sensors now (2025) being very common in consumer smartwatches. In research, several device and device types are available, which differ in their functionality, ranging from small pin-like devices measuring light exposure [@Mohamed2021OptExpress] to head-mounted multi-modal measurement devices capturing almost all relevant aspects of visual experience [@Gibaldi2024TranslVisSciTechnol]. With the increased technical capabilities in wearables come considerably complex and dense datasets. These go hand in hand with a significant number of metrics, as revealed by review papers, in both fields.\n\nAt present, the analysis processes to derive metrics are often implemented on a by-workgroup, or even by-researcher basis, which is both a potential source of errors and inconsistencies between publications, and also a considerable time sink for researchers [@Hartmeyer2022LightResTechnol]. Too often, more time is spent preparing the data than in actually gaining insights through rigoruous statistical testing and exploration. The preparation tasks are best handled, or at least facilitated, by standardized, transparent, and community-based pipelines for analysis [@Zauner2024PLOSONE].\n\nIn circadian research, the package LightLogR for R statistical software was developed [@Zauner2025JOpenSourceSoftw]. LightLogR is an open-source, MIT licensed, and community-driven package specifically made to work with data from wearable light loggers and optical radiation dosimeters. It also contains functions to calculate over sixty different metrics used in the field [@Hartmeyer2023LightResTechnol]. In a recent [update](https://tscnlab.github.io/LightLogR/news/index.html#lightlogr-090-sunrise) the package was significantly expanded to deal with modalities beyond illuminance, like distance or even light spectra, which are highly relevant for myopia research [@Honekopp2023ClinOphthalmol]. \n\nIn this article we show that the analysis pipelines and metric functions in LightLogR naturally apply to the whole field of visual experience, not just circadian research and chronobiology. Our approach is modular and extensible, allowing researchers to adapt it to a variety of devices and research questions. Emphasis is placed on clarity, transparency, and reproducibility, aligning with best practices in scientific computing and open science. We use data from two devices to demonstrate the LightLogR workflow and output with metrics relevant in the field of myopia, covering metrics for working distance, daylight exposure, and spectral analyses. It is recommended to recreate the analysis in this script. All necessary data and code are provided under an open license in the [GitHub repository](https://github.com/tscnlab/ZaunerEtAl2025JOV).\n\n## Methods and materials\n\n### Software\n\nThis tutorial is built with `Quarto`, an open-source scientific and technical publishing system, integrating text, code, and code-output into a single document. The source-code to reproduce the outcomes is part of the document and accessible via the `code-tools` menu.\n\nPackage `LightLogR` (Version 0.9.1 \"Sunrise\") was used with R statistical software (Version 4.4.3 \"Trophy Case\"). We further used the `tidyverse` package (Version 2.0.0) for principled data analysis, which `LightLogR` follows. Finally, the `gt` package (Version 1.0.0) was used for table generation. A comprehensive overview of the R computing environment can be found in the [session info](#sessioninfo)\n\n### Metric selection and definitions\n\nIn March of 2025, two workshops with researchers in the field of myopia, initiated by the Research Data Alliance (RDA) Working Group on Optical Radiation Exposure and Visual Experience Data focused on the current needs and future opportunities regarding data analysis, including metrics. Out of the expert inputs in these workshops, a list of visual experience metrics was collected, which is shown in @tbl-one. These include currently used metrics and definitions [@Wen2020bjophthalmol; @Wen2019TransVisSciTech; @Bhandari2020OphthalmicPhysiolOpt; @Williams2019Scientificreports], but also new metrics that are possible through spectrally-resolved measurements.\n\n\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| No. | Name                                                                                   | Implementation[^_table1-1]                                                                                         |\n+=====+========================================================================================+====================================================================================================================+\n|     | **Distance**                                                                           |                                                                                                                    |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| 1   | Total wear time daily                                                                  | [durations()](https://tscnlab.github.io/LightLogR/reference/durations.html)                                        |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| 2   | Duration of\\                                                                           | filter for distance range +                                                                                        |\n|     | *Near work,\\                                                                           |                                                                                                                    |\n|     | Intermediate Work,\\                                                                    | [durations()](https://tscnlab.github.io/LightLogR/reference/durations.html) (for single ranges)                    |\n|     | Near + Intermediate Work,* or                                                          |                                                                                                                    |\n|     |                                                                                        | or                                                                                                                 |\n|     | per each *Distance range*\\                                                             |                                                                                                                    |\n|     | (10cm steps)                                                                           | grouping by distance range +                                                                                       |\n|     |                                                                                        |                                                                                                                    |\n|     |                                                                                        | [durations()](https://tscnlab.github.io/LightLogR/reference/durations.html) (for all ranges)                       |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| 3   | Frequency of\\                                                                          | [extract_clusters()](https://tscnlab.github.io/LightLogR/reference/extract_clusters.html) +                        |\n|     | *Continuous near work*                                                                 |                                                                                                                    |\n|     |                                                                                        | [summarize_numeric()](https://tscnlab.github.io/LightLogR/reference/summarize_numeric.html)                        |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| 4   | Frequency,\\                                                                            | [extract_clusters()](https://tscnlab.github.io/LightLogR/reference/extract_clusters.html) +                        |\n|     | duration,\\                                                                             |                                                                                                                    |\n|     | and distances of\\                                                                      | [extract_metric()](https://tscnlab.github.io/LightLogR/reference/extract_metric.html) +                            |\n|     | *Near Work episodes*                                                                   |                                                                                                                    |\n|     |                                                                                        | [summarize_numeric()](https://tscnlab.github.io/LightLogR/reference/summarize_numeric.html)                        |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| 5   | Frequency and duration of *Visual breaks*                                              | [extract_clusters()](https://tscnlab.github.io/LightLogR/reference/extract_clusters.html) +                        |\n|     |                                                                                        |                                                                                                                    |\n|     |                                                                                        | filter                                                                                                             |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n|     | **Light**                                                                              |                                                                                                                    |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| 6   | Light exposure (in lux)                                                                | [summarize_numeric()](https://tscnlab.github.io/LightLogR/reference/summarize_numeric.html)                        |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| 7   | Duration per *Outdoor range*                                                           | grouping by Outdoor range +                                                                                        |\n|     |                                                                                        |                                                                                                                    |\n|     |                                                                                        | [durations()](https://tscnlab.github.io/LightLogR/reference/durations.html)                                        |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| 8   | The number of times light level changes from indoor (\\<1000 lx) to outdoor (\\>1000 lx) | [extract_states()](https://tscnlab.github.io/LightLogR/reference/extract_states.html) +                            |\n|     |                                                                                        |                                                                                                                    |\n|     |                                                                                        | [summarize_numeric()](https://tscnlab.github.io/LightLogR/reference/summarize_numeric.html)                        |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| 9   | Longest period above 1000 lx                                                           | [period_above_threshold()](https://tscnlab.github.io/LightLogR/reference/period_above_threshold.html)              |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n|     | **Spectrum**                                                                           |                                                                                                                    |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| 10  | Ratio of short vs. long wavelength light                                               | [spectral_integration()](https://tscnlab.github.io/LightLogR/reference/spectral_integration.html) +                |\n|     |                                                                                        |                                                                                                                    |\n|     |                                                                                        | [summarize_numeric()](https://tscnlab.github.io/LightLogR/reference/summarize_numeric.html)                        |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n| 11  | Short-wavelength light at certain times of day                                         | [spectral_integration()](https://tscnlab.github.io/LightLogR/reference/spectral_integration.html) + +              |\n|     |                                                                                        |                                                                                                                    |\n|     |                                                                                        | [filter_Time()](https://tscnlab.github.io/LightLogR/reference/filter_Time.html) (for defined times) or\\            |\n|     |                                                                                        | [cut_Datetime()](https://tscnlab.github.io/LightLogR/reference/cut_Datetime.html) (for regular time intervals) or\\ |\n|     |                                                                                        | [add_photoperiod()](https://tscnlab.github.io/LightLogR/reference/photoperiod.html) (for solar times) +            |\n|     |                                                                                        |                                                                                                                    |\n|     |                                                                                        | grouping by time state +                                                                                           |\n|     |                                                                                        |                                                                                                                    |\n|     |                                                                                        | [summarize_numeric()](https://tscnlab.github.io/LightLogR/reference/summarize_numeric.html)                        |\n+-----+----------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------+\n\n: Overview of metrics. In all cases, the averages for weekday, weekend, and the mean daily value are calculated through \\[mean_daily\\](<https://tscnlab.github.io/LightLogR/reference/mean_daily.html>). {#tbl-one}{.hover .bordered}\n\n[^_table1-1]: Functions from `LightLogR` are presented as links to the function documentation. General analysis functions (from package `dplyr`) are presented as normal text.\n\n\n\n@tbl-two contains definitions for the terms in @tbl-one. Note that these definitions may vary depending on the research question or device capabilities.\n\n\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Metric                                   | Description / pseudo formula                                                                                                                                                                                                                                                                                                                                                                    |\n+==========================================+=================================================================================================================================================================================================================================================================================================================================================================================================+\n| Total wear time                          | $\\sum(t)*dt, \\textrm{ where } t\\textrm{: valid observations }$                                                                                                                                                                                                                                                                                                                                  |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Mean daily                               | $\\frac{5*\\bar{\\textrm{weekday}} + 2*\\bar{weekend}}{7}$                                                                                                                                                                                                                                                                                                                                          |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Near work                                | $\\textrm{working distance}, [10,60)cm$                                                                                                                                                                                                                                                                                                                                                          |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Intermediate Work                        | $\\textrm{working distance}, [60,100)cm$                                                                                                                                                                                                                                                                                                                                                         |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Total work                               | $\\textrm{working distance}, [10,120)cm$                                                                                                                                                                                                                                                                                                                                                         |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Distance range                           | $\\textrm{working distance}, {[10,20)cm \\textrm{,  Extremely near} \\\\ [20,30)cm \\textrm{,  Very near} \\\\ [30,40)cm \\textrm{,  Fairly near} \\\\ [40,50)cm \\textrm{,  Near} \\\\ [50,60)cm \\textrm{,  Moderately near} \\\\ [60,70)cm \\textrm{,  Near intermediate} \\\\ [70,80)cm \\textrm{,  Intermediate} \\\\ [80,90)cm \\textrm{,  Moderately intermediate} \\\\ [90,100)cm \\textrm{,  Far intermediate}}$ |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Continuous near work                     | $\\textrm{working distance}, [20,60)cm,$                                                                                                                                                                                                                                                                                                                                                         |\n|                                          |                                                                                                                                                                                                                                                                                                                                                                                                 |\n|                                          | $T_\\textrm{duration} ≥ 30 minutes, \\textrm{ }T_{interruptions} ≤ 1 minute$                                                                                                                                                                                                                                                                                                                      |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Near work episodes                       | $\\textrm{working distance}, [20,60)cm,$                                                                                                                                                                                                                                                                                                                                                         |\n|                                          |                                                                                                                                                                                                                                                                                                                                                                                                 |\n|                                          | $T_\\textrm{interruptions} ≤ 20 seconds$                                                                                                                                                                                                                                                                                                                                                         |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Ratio of daily near work                 | $\\frac{T_\\textrm{near work}}{T_\\textrm{total wear}}$                                                                                                                                                                                                                                                                                                                                            |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Visual break                             | $\\textrm{working distance} ≥ 100cm, \\\\ T_\\textrm{duration} ≥ 20 seconds, \\textrm{ }T_\\textrm{previous episode} ≤ 20 minutes$                                                                                                                                                                                                                                                                    |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Outdoor range                            | $\\textrm{illuminance}, {[1000,2000)lx \\textrm{,  Outdoor bright} \\\\ [2000,3000)lx \\textrm{,  Outdoor very bright} \\\\ [3000, \\infty) lx \\textrm{,  Outdoor extremely bright}}$                                                                                                                                                                                                                   |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Light exposure[^_table2-1]               | $\\bar{illuminance}$                                                                                                                                                                                                                                                                                                                                                                             |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Spectral bands                           | $\\textrm{spectral irradiance}, {[380,500]nm \\textrm{,  short wavelength light} \\\\ [600, 780]nm \\textrm{,  long wavelength light}}$                                                                                                                                                                                                                                                              |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Ratio of short vs. long wavelength light | $\\frac{E_{e\\textrm{,short wavelength}}}{E_{e\\textrm{,long wavelength}}}$                                                                                                                                                                                                                                                                                                                        |\n+------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n\n: Definitions of mean daily and conditions for distance and illuminance calculation {#tbl-two}{.hover .bordered}\n\n[^_table2-1]: This deviates from the common definition of luminous exposure, which is the sum of illuminance measurements scaled to hourly observation intervals\n\n\n\n### Devices\n\nData from two devices will be used for analysis:\n\n-   Distance and light metrics will be calculated based on export from the `Clouclip` device [Glasson Technology Co., Ltd, Hangzhou, China, @Wen2021ActaOphtalmol; @Wen2020bjophthalmol]. This device has a simple output of only `Distance` and `Illuminance` measurements. Data were recorded in `5-second intervals`. A weeks worth of data takes up about 1.6 MB of storage.\n\n-   Spectrum metrics will be calculated using data from a multi-modal device, the `Visual Environment Evaluation Tool` or `VEET` [Meta Platforms, Inc., Menlo Park, California, USA, @Sah2025OphtalmicPhysiolOpt]. This dense dataset contains distance (spatially resolved), light, activity (accellerometer & gyroscope), and spectrum measurements, recorded in `2-second intervals`. A weeks worth of data takes up about 270 MB of storage.\n\n### Data import & preparation\n\nThis tutorial will start by importing a `Clouclip` dataset and providing an overview of the data. The `Clouclip` export is considerably simpler compared to the `VEET` export, only containing `Distance` and `Illuminance` measurements. The `VEET` dataset will be imported later for the spectrum related metrics.\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# load libraries\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(LightLogR)\nlibrary(gt)\n```\n:::\n\n\n\n`LightLogR` provides accessible import functionality for many wearable devices (18 at the time of writing). Required information are the file(s) and the time zone the device was set up with/recorded in (default is `UTC`). Many optional arguments let a user, e.g., extract `ID`s from the file name or correct for daylight savings jumps. The import also provides a comprehensive overview of the data, letting the user know of any gaps and irregularities in the data.\n\n\n\n::: {#cell-fig-importCC .cell}\n\n```{.r .cell-code .hidden}\n# import the data\npath <- \"data/Sample_Clouclip.csv\"\ntz <- \"US/Central\"\ndataCC <- import$Clouclip(path, tz = tz, manual.id = \"Clouclip\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nSuccessfully read in 58'081 observations across 1 Ids from 1 Clouclip-file(s).\nTimezone set is US/Central.\nThe system timezone is Europe/Berlin. Please correct if necessary!\n\nFirst Observation: 2021-02-06 17:12:47\nLast Observation: 2021-02-14 17:12:36\nTimespan: 8 days\n\nObservation intervals: \n  Id       interval.time            n pct     \n1 Clouclip 5s                   54572 93.9601%\n2 Clouclip 17s                     12 0.0207% \n3 Clouclip 18s                     14 0.0241% \n4 Clouclip 120s (~2 minutes)     3479 5.9900% \n5 Clouclip 128s (~2.13 minutes)     1 0.0017% \n6 Clouclip 132s (~2.2 minutes)      1 0.0017% \n7 Clouclip 133s (~2.22 minutes)     1 0.0017% \n```\n\n\n:::\n\n::: {.cell-output-display}\n![Overview plot of imported Clouclip data](index_files/figure-html/fig-importCC-1.png){#fig-importCC width=576}\n:::\n:::\n\n\n\n#### Exploration\n\nAny dataset may conain gaps. The example `Clouclip` dataset here has many gaps in the data (see @fig-importCC). Understanding how these relate to the measurements and the time of recording is essential. `LightLogR` provides tools to visualize and summarize these gaps.\n\nIn the presence of irregular data, i.e. data that does not fall in a regular sequence of datetimes, gap summaries can be computationally very expensive and inaccurate. For that reason, if it is not already visible from the import summary, it makes sense to check for irregular data.\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ndataCC |> has_irregulars() #test for irregulars\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n\n\nIn the case of irregular data, it is recommended to visualize irregulars without recalculating implicit gaps, which are missing observations at regular intervals. See @fig-irregular.\n\n\n\n::: {#cell-fig-irregular .cell}\n\n```{.r .cell-code .hidden}\ny.label <- \"Distance (cm)\"\ndataCC |> gg_gaps(Dis, \n                  include.implicit.gaps = FALSE,\n                  show.irregulars = TRUE,\n                  y.axis.label = y.label,\n                  group.by.days = TRUE\n                  ) + labs(title = NULL)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: Removed 1 row containing missing values or values outside the scale range\n(`geom_line()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: Removed 5476 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Visualization of gaps and irregular data. Black traces show available data. Red shaded areas show times of missing data. Red dots show instances where observations occur off the regular interval from start to finish, i.e., irregular data.](index_files/figure-html/fig-irregular-1.png){#fig-irregular width=672}\n:::\n:::\n\n\n\nIn @fig-irregular, it looks like data in every day but the first and last are considered irregular. This happens with some devices and requires manual handling. Strategies include:\n\n-   Removing some intervals from the start if the irregularities are due to the setup process. See [filter_Date() / filter_Datetime()](https://tscnlab.github.io/LightLogR/reference/filter_Datetime.html) for a way to remove these. This is usually a good solution if only the first day has regular data and the rest is all irregular.\n\n-   Rounding datetime values to the closest (5 second) interval. See [cut_Datetime()](https://tscnlab.github.io/LightLogR/reference/cut_Datetime.html) for a helper function. This is appropriate if deviations from the dominant interval (5 seconds in this case) are infrequent and if rounded datetimes don't lead to duplicated datetetimes.\n\n-   Aggregating data into a coarser recording interval. See [aggregate_Datetime()](https://tscnlab.github.io/LightLogR/reference/aggregate_Datetime.html) for this option. This is appropriate in most cases, but leads to a loss in granularity.\n\nBased on the import summary, and the graph, we use the second option to deal with the irregular data.\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# round observation times to the next 5-second interval\ndataCC <-\n  dataCC |>\n  cut_Datetime(\"5 secs\", New.colname = Datetime) |> \n  add_Date_col(group.by = TRUE)\n```\n:::\n\n::: {#tbl-gaps .cell tbl-cap='Summary of missing and observed data for the Clouclip device'}\n\n```{.r .cell-code .hidden}\n# summarize the data\ndataCC |> gap_table(Dis, Variable.label = \"Distance (cm)\") |> \n  cols_hide(contains(\"_n\")) #remove the absolute number of data points\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"tcyfjxailq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#tcyfjxailq table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#tcyfjxailq thead, #tcyfjxailq tbody, #tcyfjxailq tfoot, #tcyfjxailq tr, #tcyfjxailq td, #tcyfjxailq th {\n  border-style: none;\n}\n\n#tcyfjxailq p {\n  margin: 0;\n  padding: 0;\n}\n\n#tcyfjxailq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#tcyfjxailq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#tcyfjxailq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#tcyfjxailq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#tcyfjxailq .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tcyfjxailq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tcyfjxailq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tcyfjxailq .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#tcyfjxailq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#tcyfjxailq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#tcyfjxailq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#tcyfjxailq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#tcyfjxailq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#tcyfjxailq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#tcyfjxailq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#tcyfjxailq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#tcyfjxailq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#tcyfjxailq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#tcyfjxailq .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tcyfjxailq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#tcyfjxailq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#tcyfjxailq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#tcyfjxailq .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tcyfjxailq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#tcyfjxailq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#tcyfjxailq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tcyfjxailq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tcyfjxailq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#tcyfjxailq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tcyfjxailq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#tcyfjxailq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tcyfjxailq .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tcyfjxailq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tcyfjxailq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tcyfjxailq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tcyfjxailq .gt_left {\n  text-align: left;\n}\n\n#tcyfjxailq .gt_center {\n  text-align: center;\n}\n\n#tcyfjxailq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#tcyfjxailq .gt_font_normal {\n  font-weight: normal;\n}\n\n#tcyfjxailq .gt_font_bold {\n  font-weight: bold;\n}\n\n#tcyfjxailq .gt_font_italic {\n  font-style: italic;\n}\n\n#tcyfjxailq .gt_super {\n  font-size: 65%;\n}\n\n#tcyfjxailq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#tcyfjxailq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#tcyfjxailq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#tcyfjxailq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#tcyfjxailq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#tcyfjxailq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#tcyfjxailq .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#tcyfjxailq .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#tcyfjxailq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"14\" class=\"gt_heading gt_title gt_font_normal\" style>Summary of available and missing data</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"14\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Variable: Distance (cm)</td>\n    </tr>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th rowspan=\"1\" colspan=\"1\" scope=\"col\"></th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"5\" style=\"font-weight: bold; font-weight: bold;\" scope=\"colgroup\" id=\"data_spanner\">\n        <div class=\"gt_column_spanner\">Data</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"8\" style=\"font-weight: bold; font-weight: bold;\" scope=\"colgroup\" id=\"missing_spanner\">\n        <div class=\"gt_column_spanner\">Missing</div>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"a::stub\"></th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"Regular\">\n        <div class=\"gt_column_spanner\">Regular</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"irregular_spanner\">\n        <div class=\"gt_column_spanner\">Irregular</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"Range\">\n        <div class=\"gt_column_spanner\">Range</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"interval_spanner\">\n        <div class=\"gt_column_spanner\">Interval</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"4\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"gap_spanner\">\n        <div class=\"gt_column_spanner\">Gaps</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"implicit_spanner\">\n        <div class=\"gt_column_spanner\">Implicit</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"explicit_spanner\">\n        <div class=\"gt_column_spanner\">Explicit</div>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"available_data\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"available_data_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"number_irregulars\">n<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1,2</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"total_duration\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"interval\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"number_gaps\">N</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean_gap_duration\">ø</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_data\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_data_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_implicit\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_implicit_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_explicit\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_explicit_pct\">%</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"grand_summary_stub_1\" scope=\"row\" class=\"gt_row gt_left gt_stub gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\"><span data-qmd-base64=\"KipPdmVyYWxsKio=\"><span class='gt_from_md'><strong>Overall</strong></span></span></th>\n<td headers=\"grand_summary_stub_1 available_data\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">2d 14h 43m 10s</td>\n<td headers=\"grand_summary_stub_1 available_data_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">29.0%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 number_irregulars\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"grand_summary_stub_1 total_duration\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1w 2d</td>\n<td headers=\"grand_summary_stub_1 interval\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5</td>\n<td headers=\"grand_summary_stub_1 number_gaps\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2,690</td>\n<td headers=\"grand_summary_stub_1 mean_gap_duration\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">1h 35m 57s</td>\n<td headers=\"grand_summary_stub_1 missing_data\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">6d 9h 16m 50s</td>\n<td headers=\"grand_summary_stub_1 missing_data_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">71.0%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 missing_implicit\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5d 15h 19m 55s</td>\n<td headers=\"grand_summary_stub_1 missing_implicit_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">62.7%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 missing_explicit\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">17h 56m 55s</td>\n<td headers=\"grand_summary_stub_1 missing_explicit_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">8.3%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip - 2021-02-06\">Clouclip - 2021-02-06</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 available_data\" class=\"gt_row gt_center\">43m 30s</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 available_data_pct\" class=\"gt_row gt_right\">3.0%</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">26</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 mean_gap_duration\" class=\"gt_row gt_right\">53m 43s</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 missing_data\" class=\"gt_row gt_center\">23h 16m 30s</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 missing_data_pct\" class=\"gt_row gt_right\">97.0%</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">22h 53m 20s</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 missing_implicit_pct\" class=\"gt_row gt_right\">95.4%</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">23m 10s</td>\n<td headers=\"Clouclip - 2021-02-06 stub_1_1 missing_explicit_pct\" class=\"gt_row gt_right\">1.6%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip - 2021-02-07\">Clouclip - 2021-02-07</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 available_data\" class=\"gt_row gt_center\">2h 45m</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 available_data_pct\" class=\"gt_row gt_right\">11.5%</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">139</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 mean_gap_duration\" class=\"gt_row gt_right\">9m 10s</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 missing_data\" class=\"gt_row gt_center\">21h 15m</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 missing_data_pct\" class=\"gt_row gt_right\">88.5%</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">19h 42m 35s</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 missing_implicit_pct\" class=\"gt_row gt_right\">82.1%</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1h 32m 25s</td>\n<td headers=\"Clouclip - 2021-02-07 stub_1_2 missing_explicit_pct\" class=\"gt_row gt_right\">6.4%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip - 2021-02-08\">Clouclip - 2021-02-08</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 available_data\" class=\"gt_row gt_center\">11h 13m 55s</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 available_data_pct\" class=\"gt_row gt_right\">46.8%</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">443</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 mean_gap_duration\" class=\"gt_row gt_right\">1m 44s</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 missing_data\" class=\"gt_row gt_center\">12h 46m 5s</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 missing_data_pct\" class=\"gt_row gt_right\">53.2%</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">10h 47m 50s</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 missing_implicit_pct\" class=\"gt_row gt_right\">45.0%</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1h 58m 15s</td>\n<td headers=\"Clouclip - 2021-02-08 stub_1_3 missing_explicit_pct\" class=\"gt_row gt_right\">8.2%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip - 2021-02-09\">Clouclip - 2021-02-09</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_4\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 available_data\" class=\"gt_row gt_center\">8h 46m 25s</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 available_data_pct\" class=\"gt_row gt_right\">36.6%</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">278</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 mean_gap_duration\" class=\"gt_row gt_right\">3m 17s</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 missing_data\" class=\"gt_row gt_center\">15h 13m 35s</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 missing_data_pct\" class=\"gt_row gt_right\">63.4%</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">13h 50m</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 missing_implicit_pct\" class=\"gt_row gt_right\">57.6%</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1h 23m 35s</td>\n<td headers=\"Clouclip - 2021-02-09 stub_1_4 missing_explicit_pct\" class=\"gt_row gt_right\">5.8%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip - 2021-02-10\">Clouclip - 2021-02-10</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_5\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 available_data\" class=\"gt_row gt_center\">7h 1m 30s</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 available_data_pct\" class=\"gt_row gt_right\">29.3%</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">367</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 mean_gap_duration\" class=\"gt_row gt_right\">2m 47s</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 missing_data\" class=\"gt_row gt_center\">16h 58m 30s</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 missing_data_pct\" class=\"gt_row gt_right\">70.7%</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">14h 18m 40s</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 missing_implicit_pct\" class=\"gt_row gt_right\">59.6%</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2h 39m 50s</td>\n<td headers=\"Clouclip - 2021-02-10 stub_1_5 missing_explicit_pct\" class=\"gt_row gt_right\">11.1%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip - 2021-02-11\">Clouclip - 2021-02-11</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_6\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 available_data\" class=\"gt_row gt_center\">8h 31m 55s</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 available_data_pct\" class=\"gt_row gt_right\">35.5%</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">423</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 mean_gap_duration\" class=\"gt_row gt_right\">2m 12s</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 missing_data\" class=\"gt_row gt_center\">15h 28m 5s</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 missing_data_pct\" class=\"gt_row gt_right\">64.5%</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">11h 43m 30s</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 missing_implicit_pct\" class=\"gt_row gt_right\">48.9%</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">3h 44m 35s</td>\n<td headers=\"Clouclip - 2021-02-11 stub_1_6 missing_explicit_pct\" class=\"gt_row gt_right\">15.6%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip - 2021-02-12\">Clouclip - 2021-02-12</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_7\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 available_data\" class=\"gt_row gt_center\">12h 17m 55s</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 available_data_pct\" class=\"gt_row gt_right\">51.2%</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">417</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 mean_gap_duration\" class=\"gt_row gt_right\">1m 41s</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 missing_data\" class=\"gt_row gt_center\">11h 42m 5s</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 missing_data_pct\" class=\"gt_row gt_right\">48.8%</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">9h 17m 45s</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 missing_implicit_pct\" class=\"gt_row gt_right\">38.7%</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2h 24m 20s</td>\n<td headers=\"Clouclip - 2021-02-12 stub_1_7 missing_explicit_pct\" class=\"gt_row gt_right\">10.0%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip - 2021-02-13\">Clouclip - 2021-02-13</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_8\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 available_data\" class=\"gt_row gt_center\">10h 32m 15s</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 available_data_pct\" class=\"gt_row gt_right\">43.9%</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">527</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 mean_gap_duration\" class=\"gt_row gt_right\">1m 32s</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 missing_data\" class=\"gt_row gt_center\">13h 27m 45s</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 missing_data_pct\" class=\"gt_row gt_right\">56.1%</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">10h 42m 10s</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 missing_implicit_pct\" class=\"gt_row gt_right\">44.6%</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2h 45m 35s</td>\n<td headers=\"Clouclip - 2021-02-13 stub_1_8 missing_explicit_pct\" class=\"gt_row gt_right\">11.5%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip - 2021-02-14\">Clouclip - 2021-02-14</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_9\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 available_data\" class=\"gt_row gt_center\">50m 45s</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 available_data_pct\" class=\"gt_row gt_right\">3.5%</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">70</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 mean_gap_duration\" class=\"gt_row gt_right\">19m 51s</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 missing_data\" class=\"gt_row gt_center\">23h 9m 15s</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 missing_data_pct\" class=\"gt_row gt_right\">96.5%</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">22h 4m 5s</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 missing_implicit_pct\" class=\"gt_row gt_right\">92.0%</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1h 5m 10s</td>\n<td headers=\"Clouclip - 2021-02-14 stub_1_9 missing_explicit_pct\" class=\"gt_row gt_right\">4.5%</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> If n &gt; 0: it is possible that the other summary statistics are affected, as they are calculated based on the most prominent interval.</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>2</sup></span> Number of (missing or actual) observations</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span> Based on times, not necessarily number of observations</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n@tbl-gaps shows that there are no more irregular data after treatment. There are, however, considerable implicitly missing data, which can be converted to explicitly missing data with [gap_handler()](https://tscnlab.github.io/LightLogR/reference/gap_handler.html), which will make calculations based on the dataset much more robust. Furthermore, there are two days that have less than an hours worth of data. These will be removed.\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#make implicit gaps explicit\ndataCC <- \n  dataCC |> \n  #add the operational tag to have all rows with a status:\n  mutate(across(c(Lux_status, Dis_status), \\(x) replace_na(x, \"operational\"))) |> \n  #make gaps explicit:\n  gap_handler(full.days = TRUE) |>  \n  #remove days that have less than one hour of data\n  remove_partial_data(Dis, threshold.missing = \"23 hours\")\n```\n:::\n\n\n\nThe `Clouclip` device uses sentinel values[^sentinel] to encode states in the measurement values. `LightLogR` converts these to a dedicated column upon import, and we can visualize them, alongside showing the photoperiod.\n\n[^sentinel]: In programming, a sentinel value is a special, unique value used to signal a condition. It is distinct from regular data values and acts as a marker.\n\n\n\n::: {#cell-fig-state .cell}\n\n```{.r .cell-code .hidden}\n#setting coordinates for Houston, Texas\ncoordinates <- c(29.75, -95.36)\n# visualize observations\ndataCC |> \n  fill(c(Lux_status, Dis_status), .direction = \"downup\") |> \n  gg_day(y.axis = Dis, geom = \"line\", y.axis.label = y.label) |> #create a basic plot\n  gg_state(Dis_status, aes_fill = Dis_status) |> #add the status times\n  gg_photoperiod(coordinates, alpha = 0.1, col = \"red\") + #add the photoperiod (day/night)\n  theme(legend.position = \"bottom\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: Removed 6889 rows containing missing values or values outside the scale range\n(`geom_line()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Distance measurements across days. Blue, grey and yellow-colored areas show sentinel states of the device. Blue indicates an operational status, grey sleep mode (not recording), and yellow an out of range measurement. Red boxed areas show nighttime from civil dusk until dawn, which are calculated based on the recording date and geographic coordinates](index_files/figure-html/fig-state-1.png){#fig-state width=672}\n:::\n:::\n\n\n\nWith these data, the metrics can be calculated.\n\n## Results\n\n### Distance\n\nIn the following sections, daily values are calculated. The following helper function takes these daily values and calculates averages for `weekend`, `weekday`, and `mean daily`:\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nto_mean_daily <- function(data, prefix = \"average_\") {\n  data |> \n    ungroup(Date) |> #ungroup by days\n    mean_daily(prefix = prefix) |> #calculate the averages\n    rename_with(.fn = \\(x) str_replace_all(x,\"_\",\" \")) |> #remove underscores\n    gt() #table output\n}\n```\n:::\n\n\n\n#### Total wear time daily\n\nFor `Total wear time daily`, only instances where there is actual distance data available will be taken into account in @tbl-wear.\n\n\n\n::: {#tbl-wear .cell tbl-cap='Total wear time daily'}\n\n```{.r .cell-code .hidden}\ndataCC |> \n  durations(Dis) |> #calculate the durations per group (day)\n  to_mean_daily(\"Total wear \")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"kwtfyrdwgy\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#kwtfyrdwgy table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#kwtfyrdwgy thead, #kwtfyrdwgy tbody, #kwtfyrdwgy tfoot, #kwtfyrdwgy tr, #kwtfyrdwgy td, #kwtfyrdwgy th {\n  border-style: none;\n}\n\n#kwtfyrdwgy p {\n  margin: 0;\n  padding: 0;\n}\n\n#kwtfyrdwgy .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#kwtfyrdwgy .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#kwtfyrdwgy .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#kwtfyrdwgy .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#kwtfyrdwgy .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kwtfyrdwgy .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kwtfyrdwgy .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kwtfyrdwgy .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#kwtfyrdwgy .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#kwtfyrdwgy .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#kwtfyrdwgy .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#kwtfyrdwgy .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#kwtfyrdwgy .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#kwtfyrdwgy .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#kwtfyrdwgy .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#kwtfyrdwgy .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#kwtfyrdwgy .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#kwtfyrdwgy .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#kwtfyrdwgy .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kwtfyrdwgy .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#kwtfyrdwgy .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#kwtfyrdwgy .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#kwtfyrdwgy .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kwtfyrdwgy .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#kwtfyrdwgy .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#kwtfyrdwgy .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kwtfyrdwgy .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kwtfyrdwgy .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#kwtfyrdwgy .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kwtfyrdwgy .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#kwtfyrdwgy .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kwtfyrdwgy .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kwtfyrdwgy .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kwtfyrdwgy .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kwtfyrdwgy .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kwtfyrdwgy .gt_left {\n  text-align: left;\n}\n\n#kwtfyrdwgy .gt_center {\n  text-align: center;\n}\n\n#kwtfyrdwgy .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#kwtfyrdwgy .gt_font_normal {\n  font-weight: normal;\n}\n\n#kwtfyrdwgy .gt_font_bold {\n  font-weight: bold;\n}\n\n#kwtfyrdwgy .gt_font_italic {\n  font-style: italic;\n}\n\n#kwtfyrdwgy .gt_super {\n  font-size: 65%;\n}\n\n#kwtfyrdwgy .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#kwtfyrdwgy .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#kwtfyrdwgy .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#kwtfyrdwgy .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#kwtfyrdwgy .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#kwtfyrdwgy .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#kwtfyrdwgy .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#kwtfyrdwgy .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#kwtfyrdwgy div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Total-wear-duration\">Total wear duration</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"2\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip\">Clouclip</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"Clouclip  Total wear duration\" class=\"gt_row gt_center\">31448s (~8.74 hours)</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"Clouclip  Total wear duration\" class=\"gt_row gt_center\">34460s (~9.57 hours)</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"Clouclip  Total wear duration\" class=\"gt_row gt_center\">23918s (~6.64 hours)</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n#### Duration within distance ranges {#distance-range}\n\nThis metric can be calculated in two ways. @tbl-nearwork shows the `duration of near work`, whereas @tbl-ranges shows the `duration of distance ranges`.\n\n::: {.panel-tabset}\n\n##### Duration of near work\n\n\n\n::: {#tbl-nearwork .cell tbl-cap='Duration of near work'}\n\n```{.r .cell-code .hidden}\ndataCC |> \n  filter(Dis >= 10, Dis < 60) |> \n  durations(Dis) |> \n  to_mean_daily(\"Near work \")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"nbiplomrkz\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#nbiplomrkz table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#nbiplomrkz thead, #nbiplomrkz tbody, #nbiplomrkz tfoot, #nbiplomrkz tr, #nbiplomrkz td, #nbiplomrkz th {\n  border-style: none;\n}\n\n#nbiplomrkz p {\n  margin: 0;\n  padding: 0;\n}\n\n#nbiplomrkz .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#nbiplomrkz .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#nbiplomrkz .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#nbiplomrkz .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#nbiplomrkz .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nbiplomrkz .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nbiplomrkz .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nbiplomrkz .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#nbiplomrkz .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#nbiplomrkz .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#nbiplomrkz .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#nbiplomrkz .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#nbiplomrkz .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#nbiplomrkz .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#nbiplomrkz .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#nbiplomrkz .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#nbiplomrkz .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#nbiplomrkz .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#nbiplomrkz .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nbiplomrkz .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#nbiplomrkz .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#nbiplomrkz .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#nbiplomrkz .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nbiplomrkz .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#nbiplomrkz .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#nbiplomrkz .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nbiplomrkz .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nbiplomrkz .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#nbiplomrkz .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nbiplomrkz .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#nbiplomrkz .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nbiplomrkz .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nbiplomrkz .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nbiplomrkz .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nbiplomrkz .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nbiplomrkz .gt_left {\n  text-align: left;\n}\n\n#nbiplomrkz .gt_center {\n  text-align: center;\n}\n\n#nbiplomrkz .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#nbiplomrkz .gt_font_normal {\n  font-weight: normal;\n}\n\n#nbiplomrkz .gt_font_bold {\n  font-weight: bold;\n}\n\n#nbiplomrkz .gt_font_italic {\n  font-style: italic;\n}\n\n#nbiplomrkz .gt_super {\n  font-size: 65%;\n}\n\n#nbiplomrkz .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#nbiplomrkz .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#nbiplomrkz .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#nbiplomrkz .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#nbiplomrkz .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#nbiplomrkz .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#nbiplomrkz .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#nbiplomrkz .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#nbiplomrkz div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Near-work-duration\">Near work duration</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"2\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip\">Clouclip</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"Clouclip  Near work duration\" class=\"gt_row gt_center\">22586s (~6.27 hours)</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"Clouclip  Near work duration\" class=\"gt_row gt_center\">26343s (~7.32 hours)</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"Clouclip  Near work duration\" class=\"gt_row gt_center\">13192s (~3.66 hours)</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n##### Duration within distance ranges\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#defining distance ranges\ndist_breaks <- c(10, 20, 30, 40, 50, 60, 70, 80, 90, 100, Inf)\ndist_labels <- c(\n    \"Extremely near\",          # [10, 20)\n    \"Very near\",               # [20, 30)\n    \"Fairly near\",             # [30, 40)\n    \"Near\",                    # [40, 50)\n    \"Moderately near\",         # [50, 60)\n    \"Near Intermediate\",       # [60, 70)\n    \"Intermediate\",            # [70, 80)\n    \"Moderately intermediate\", # [80, 90)\n    \"Far intermediate\",        # [90, 100)\n    \"Far\"                      # [100, Inf)\n  )\n```\n:::\n\n::: {#tbl-ranges .cell tbl-cap='Duration in distance ranges'}\n\n```{.r .cell-code .hidden}\ndataCC |> \n  mutate(Dis_range = \n           cut(Dis, breaks = dist_breaks, labels = dist_labels) #create ranges\n         ) |> \n  drop_na(Dis_range) |> #remove NAs\n  group_by(Dis_range, .add = TRUE) |> #group by ranges\n  durations(Dis) |> #calculate durations\n  pivot_wider(names_from = Dis_range, values_from = duration) |> #widen data\n  to_mean_daily(\"\") |> \n  fmt_duration(input_units = \"seconds\", output_units = \"minutes\") #show minutes\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"awzhbfaytz\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#awzhbfaytz table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#awzhbfaytz thead, #awzhbfaytz tbody, #awzhbfaytz tfoot, #awzhbfaytz tr, #awzhbfaytz td, #awzhbfaytz th {\n  border-style: none;\n}\n\n#awzhbfaytz p {\n  margin: 0;\n  padding: 0;\n}\n\n#awzhbfaytz .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#awzhbfaytz .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#awzhbfaytz .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#awzhbfaytz .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#awzhbfaytz .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#awzhbfaytz .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#awzhbfaytz .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#awzhbfaytz .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#awzhbfaytz .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#awzhbfaytz .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#awzhbfaytz .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#awzhbfaytz .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#awzhbfaytz .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#awzhbfaytz .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#awzhbfaytz .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#awzhbfaytz .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#awzhbfaytz .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#awzhbfaytz .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#awzhbfaytz .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#awzhbfaytz .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#awzhbfaytz .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#awzhbfaytz .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#awzhbfaytz .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#awzhbfaytz .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#awzhbfaytz .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#awzhbfaytz .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#awzhbfaytz .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#awzhbfaytz .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#awzhbfaytz .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#awzhbfaytz .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#awzhbfaytz .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#awzhbfaytz .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#awzhbfaytz .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#awzhbfaytz .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#awzhbfaytz .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#awzhbfaytz .gt_left {\n  text-align: left;\n}\n\n#awzhbfaytz .gt_center {\n  text-align: center;\n}\n\n#awzhbfaytz .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#awzhbfaytz .gt_font_normal {\n  font-weight: normal;\n}\n\n#awzhbfaytz .gt_font_bold {\n  font-weight: bold;\n}\n\n#awzhbfaytz .gt_font_italic {\n  font-style: italic;\n}\n\n#awzhbfaytz .gt_super {\n  font-size: 65%;\n}\n\n#awzhbfaytz .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#awzhbfaytz .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#awzhbfaytz .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#awzhbfaytz .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#awzhbfaytz .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#awzhbfaytz .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#awzhbfaytz .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#awzhbfaytz .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#awzhbfaytz div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Extremely-near\">Extremely near</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Very-near\">Very near</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Fairly-near\">Fairly near</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Near\">Near</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Moderately-near\">Moderately near</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Near-Intermediate\">Near Intermediate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Intermediate\">Intermediate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Moderately-intermediate\">Moderately intermediate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Far-intermediate\">Far intermediate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Far\">Far</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"11\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip\">Clouclip</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"Clouclip  Extremely near\" class=\"gt_row gt_center\">169m</td>\n<td headers=\"Clouclip  Very near\" class=\"gt_row gt_center\">102m</td>\n<td headers=\"Clouclip  Fairly near\" class=\"gt_row gt_center\">46m</td>\n<td headers=\"Clouclip  Near\" class=\"gt_row gt_center\">27m</td>\n<td headers=\"Clouclip  Moderately near\" class=\"gt_row gt_center\">13m</td>\n<td headers=\"Clouclip  Near Intermediate\" class=\"gt_row gt_center\">7m</td>\n<td headers=\"Clouclip  Intermediate\" class=\"gt_row gt_center\">4m</td>\n<td headers=\"Clouclip  Moderately intermediate\" class=\"gt_row gt_center\">5m</td>\n<td headers=\"Clouclip  Far intermediate\" class=\"gt_row gt_center\">11m</td>\n<td headers=\"Clouclip  Far\" class=\"gt_row gt_center\">16m</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"Clouclip  Extremely near\" class=\"gt_row gt_center\">180m</td>\n<td headers=\"Clouclip  Very near\" class=\"gt_row gt_center\">128m</td>\n<td headers=\"Clouclip  Fairly near\" class=\"gt_row gt_center\">60m</td>\n<td headers=\"Clouclip  Near\" class=\"gt_row gt_center\">36m</td>\n<td headers=\"Clouclip  Moderately near\" class=\"gt_row gt_center\">16m</td>\n<td headers=\"Clouclip  Near Intermediate\" class=\"gt_row gt_center\">7m</td>\n<td headers=\"Clouclip  Intermediate\" class=\"gt_row gt_center\">6m</td>\n<td headers=\"Clouclip  Moderately intermediate\" class=\"gt_row gt_center\">6m</td>\n<td headers=\"Clouclip  Far intermediate\" class=\"gt_row gt_center\">14m</td>\n<td headers=\"Clouclip  Far\" class=\"gt_row gt_center\">20m</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"Clouclip  Extremely near\" class=\"gt_row gt_center\">141m</td>\n<td headers=\"Clouclip  Very near\" class=\"gt_row gt_center\">38m</td>\n<td headers=\"Clouclip  Fairly near\" class=\"gt_row gt_center\">12m</td>\n<td headers=\"Clouclip  Near\" class=\"gt_row gt_center\">5m</td>\n<td headers=\"Clouclip  Moderately near\" class=\"gt_row gt_center\">5m</td>\n<td headers=\"Clouclip  Near Intermediate\" class=\"gt_row gt_center\">8m</td>\n<td headers=\"Clouclip  Intermediate\" class=\"gt_row gt_center\">1m</td>\n<td headers=\"Clouclip  Moderately intermediate\" class=\"gt_row gt_center\">3m</td>\n<td headers=\"Clouclip  Far intermediate\" class=\"gt_row gt_center\">2m</td>\n<td headers=\"Clouclip  Far\" class=\"gt_row gt_center\">5m</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n@fig-ranges shows the distribution of relative times within each distance range.\n\n\n\n::: {#cell-fig-ranges .cell}\n\n```{.r .cell-code .hidden}\ndataCC |> \n  mutate(Dis_range = \n           cut(Dis, breaks = dist_breaks, labels = dist_labels) #create ranges\n         ) |> \n  drop_na(Dis_range) |> #remove NAs\n  group_by(Dis_range, .add = TRUE) |> #group by ranges\n  durations(Dis) |> \n  group_by(Dis_range) |> \n  mean_daily(prefix = \"\") |> \n  ungroup() |> \n  mutate(Dis_range = \n           forcats::fct_relabel(Dis_range, \\(x) str_replace(x, \" \", \"\\n\"))) |> \n  mutate(duration = duration/sum(duration), .by = Date) |> \n  ggplot(aes(x=Dis_range, y = duration, fill = Date)) +\n  geom_col(, position = \"dodge\") +\n  scale_y_continuous(labels = scales::label_percent()) +\n  ggsci::scale_fill_jco() +\n  theme_minimal() +\n  labs(y = \"Relative duration (%)\", x = NULL, fill = \"Type\") +\n  coord_flip()\n```\n\n::: {.cell-output-display}\n![Percentage of total time in distance ranges](index_files/figure-html/fig-ranges-1.png){#fig-ranges width=672}\n:::\n:::\n\n\n\n:::\n\n#### Frequency of Continuous near work\n\nContinuous near work has more than one condition. Beyond a distance range, it requires a certain length, but also allows for interruptions. This is what [extract_clusters()](https://tscnlab.github.io/LightLogR/reference/extract_clusters.html) allows.\n\n@tbl-continuousnear summarizes the results, and @fig-cluster visualizes them.\n\n\n\n::: {#tbl-continuousnear .cell tbl-cap='Frequency of continuous near work'}\n\n```{.r .cell-code .hidden}\ndataCC |> \n  extract_clusters(Dis >= 20 & Dis < 60, #define the condition\n                   cluster.duration = \"30 mins\", #define the minimum duration\n                   interruption.duration = \"1 min\", #define max interruption\n                   drop.empty.groups = FALSE) |> #make certain days without clusters remain\n  summarize_numeric(remove = c(\"start\", \"end\", \"epoch\", \"duration\"),\n                    add.total.duration = FALSE) |> #count the number of episodes\n  mean_daily(prefix = \"Frequency of \") |># daily means\n  gt() |> fmt_number() #table\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"hpodjgoasb\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#hpodjgoasb table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#hpodjgoasb thead, #hpodjgoasb tbody, #hpodjgoasb tfoot, #hpodjgoasb tr, #hpodjgoasb td, #hpodjgoasb th {\n  border-style: none;\n}\n\n#hpodjgoasb p {\n  margin: 0;\n  padding: 0;\n}\n\n#hpodjgoasb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#hpodjgoasb .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#hpodjgoasb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#hpodjgoasb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#hpodjgoasb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hpodjgoasb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hpodjgoasb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hpodjgoasb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#hpodjgoasb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#hpodjgoasb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#hpodjgoasb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#hpodjgoasb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#hpodjgoasb .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#hpodjgoasb .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#hpodjgoasb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hpodjgoasb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#hpodjgoasb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#hpodjgoasb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#hpodjgoasb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hpodjgoasb .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#hpodjgoasb .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#hpodjgoasb .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#hpodjgoasb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hpodjgoasb .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#hpodjgoasb .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#hpodjgoasb .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hpodjgoasb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hpodjgoasb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#hpodjgoasb .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hpodjgoasb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#hpodjgoasb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hpodjgoasb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hpodjgoasb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hpodjgoasb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hpodjgoasb .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hpodjgoasb .gt_left {\n  text-align: left;\n}\n\n#hpodjgoasb .gt_center {\n  text-align: center;\n}\n\n#hpodjgoasb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#hpodjgoasb .gt_font_normal {\n  font-weight: normal;\n}\n\n#hpodjgoasb .gt_font_bold {\n  font-weight: bold;\n}\n\n#hpodjgoasb .gt_font_italic {\n  font-style: italic;\n}\n\n#hpodjgoasb .gt_super {\n  font-size: 65%;\n}\n\n#hpodjgoasb .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#hpodjgoasb .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#hpodjgoasb .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#hpodjgoasb .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#hpodjgoasb .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#hpodjgoasb .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#hpodjgoasb .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#hpodjgoasb .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#hpodjgoasb div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Frequency-of-episodes\">Frequency of episodes</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"2\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip\">Clouclip</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"Clouclip  Frequency of episodes\" class=\"gt_row gt_right\">0.86</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"Clouclip  Frequency of episodes\" class=\"gt_row gt_right\">1.20</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"Clouclip  Frequency of episodes\" class=\"gt_row gt_right\">0.00</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n::: {#cell-fig-visbreak .cell}\n\n```{.r .cell-code .hidden}\ndataCC |> \n  add_clusters(Dis >= 20 & Dis < 60, #define the condition\n                   cluster.duration = \"30 mins\", #define the minimum duration\n                   interruption.duration = \"1 min\") |> \n  gg_day(y.axis = Dis, y.axis.label = y.label, geom = \"line\") |> \n  gg_state(state, fill = \"red\") +\n  geom_hline(yintercept = c(20, 60), col = \"red\", linetype = \"dashed\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: Removed 6889 rows containing missing values or values outside the scale range\n(`geom_line()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Continuous near work episodes (red shaded areas). Black traces show measurement data, and two red dashed lines indicate the range of near work between 20 and 60 cm distance](index_files/figure-html/fig-visbreak-1.png){#fig-visbreak width=672}\n:::\n:::\n\n\n\n#### Near Work episodes\n\nThis section of the metrics consists of three aspects: `Frequency`, `Duration`, and `Distances`. The first two aspects are collected the same way as in the previous section, whereas the `Distance` aspect is extracted from the base data. All are summarized in @tbl-nearworkepisodes\n\n\n\n::: {#tbl-nearworkepisodes .cell tbl-cap='Frequency, duration, and distance of near work episodes'}\n\n```{.r .cell-code .hidden}\ndataCC |> \n  extract_clusters(Dis >= 20 & Dis < 60, #define the condition\n                   cluster.duration = \"5 secs\", #define the minimum duration\n                   interruption.duration = \"20 secs\", #define max interruption\n                   drop.empty.groups = FALSE) |> #make certain days without clusters remain\n  extract_metric(dataCC, distance = mean(Dis, na.rm = TRUE)) |> \n  summarize_numeric(remove = c(\"start\", \"end\", \"epoch\"), prefix = \"\",\n                    add.total.duration = FALSE) |>  #count the number of episodes\n  mean_daily(prefix = \"\") |> #daily means\n  gt() |> fmt_number(c(distance, episodes), decimals = 0) |> #table\n  cols_units(distance = \"cm\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"nukwvdcixe\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#nukwvdcixe table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#nukwvdcixe thead, #nukwvdcixe tbody, #nukwvdcixe tfoot, #nukwvdcixe tr, #nukwvdcixe td, #nukwvdcixe th {\n  border-style: none;\n}\n\n#nukwvdcixe p {\n  margin: 0;\n  padding: 0;\n}\n\n#nukwvdcixe .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#nukwvdcixe .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#nukwvdcixe .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#nukwvdcixe .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#nukwvdcixe .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nukwvdcixe .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nukwvdcixe .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nukwvdcixe .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#nukwvdcixe .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#nukwvdcixe .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#nukwvdcixe .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#nukwvdcixe .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#nukwvdcixe .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#nukwvdcixe .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#nukwvdcixe .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#nukwvdcixe .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#nukwvdcixe .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#nukwvdcixe .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#nukwvdcixe .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nukwvdcixe .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#nukwvdcixe .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#nukwvdcixe .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#nukwvdcixe .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nukwvdcixe .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#nukwvdcixe .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#nukwvdcixe .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nukwvdcixe .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nukwvdcixe .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#nukwvdcixe .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nukwvdcixe .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#nukwvdcixe .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nukwvdcixe .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nukwvdcixe .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nukwvdcixe .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nukwvdcixe .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nukwvdcixe .gt_left {\n  text-align: left;\n}\n\n#nukwvdcixe .gt_center {\n  text-align: center;\n}\n\n#nukwvdcixe .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#nukwvdcixe .gt_font_normal {\n  font-weight: normal;\n}\n\n#nukwvdcixe .gt_font_bold {\n  font-weight: bold;\n}\n\n#nukwvdcixe .gt_font_italic {\n  font-style: italic;\n}\n\n#nukwvdcixe .gt_super {\n  font-size: 65%;\n}\n\n#nukwvdcixe .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#nukwvdcixe .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#nukwvdcixe .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#nukwvdcixe .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#nukwvdcixe .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#nukwvdcixe .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#nukwvdcixe .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#nukwvdcixe .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#nukwvdcixe div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"duration\">duration</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"distance\">distance, cm</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"episodes\">episodes</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"4\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip\">Clouclip</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"Clouclip  duration\" class=\"gt_row gt_center\">233s (~3.88 minutes)</td>\n<td headers=\"Clouclip  distance\" class=\"gt_row gt_right\">32</td>\n<td headers=\"Clouclip  episodes\" class=\"gt_row gt_right\">57</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"Clouclip  duration\" class=\"gt_row gt_center\">284s (~4.73 minutes)</td>\n<td headers=\"Clouclip  distance\" class=\"gt_row gt_right\">32</td>\n<td headers=\"Clouclip  episodes\" class=\"gt_row gt_right\">64</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"Clouclip  duration\" class=\"gt_row gt_center\">104s (~1.73 minutes)</td>\n<td headers=\"Clouclip  distance\" class=\"gt_row gt_right\">32</td>\n<td headers=\"Clouclip  episodes\" class=\"gt_row gt_right\">40</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n#### Visual breaks\n\n`Visual breaks` are a little different, compared to the previous metrics. The difference is that in this case, the minimum break and the previous episode is important. This leads to a two step process, where we first extract instances of `Distance` above 100 cm for at least 20 seconds, before we filter for a previous duration of at maximum 20 minutes. @tbl-visualbreaks provides the daily frequency of visual breaks.\n\n\n\n::: {#tbl-visualbreaks .cell tbl-cap='Frequency of visual breaks'}\n\n```{.r .cell-code .hidden}\ndataCC |> \n  extract_clusters(Dis >= 100, #define the condition, greater 100 cm away\n                   cluster.duration = \"20 secs\", #define the minimum duration\n                   return.only.clusters = FALSE, #return non-clusters as well\n                   drop.empty.groups = FALSE #keep all days, even without clusters\n                   ) |> \n  # return only clusters with previous episode lengths of maximum 20 minutes:\n  filter((start - lag(end) <= duration(\"20 mins\")), is.cluster) |> \n  summarize_numeric(remove = c(\"start\", \"end\", \"epoch\", \"is.cluster\", \"duration\"), \n                    prefix = \"\",\n                    add.total.duration = FALSE) |>  #count the number of episodes\n  mean_daily(prefix = \"Daily \") |> #daily means\n  gt() |> fmt_number(decimals = 1) #table\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"loarrdxhiw\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#loarrdxhiw table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#loarrdxhiw thead, #loarrdxhiw tbody, #loarrdxhiw tfoot, #loarrdxhiw tr, #loarrdxhiw td, #loarrdxhiw th {\n  border-style: none;\n}\n\n#loarrdxhiw p {\n  margin: 0;\n  padding: 0;\n}\n\n#loarrdxhiw .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#loarrdxhiw .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#loarrdxhiw .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#loarrdxhiw .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#loarrdxhiw .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#loarrdxhiw .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#loarrdxhiw .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#loarrdxhiw .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#loarrdxhiw .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#loarrdxhiw .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#loarrdxhiw .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#loarrdxhiw .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#loarrdxhiw .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#loarrdxhiw .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#loarrdxhiw .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#loarrdxhiw .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#loarrdxhiw .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#loarrdxhiw .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#loarrdxhiw .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#loarrdxhiw .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#loarrdxhiw .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#loarrdxhiw .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#loarrdxhiw .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#loarrdxhiw .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#loarrdxhiw .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#loarrdxhiw .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#loarrdxhiw .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#loarrdxhiw .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#loarrdxhiw .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#loarrdxhiw .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#loarrdxhiw .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#loarrdxhiw .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#loarrdxhiw .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#loarrdxhiw .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#loarrdxhiw .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#loarrdxhiw .gt_left {\n  text-align: left;\n}\n\n#loarrdxhiw .gt_center {\n  text-align: center;\n}\n\n#loarrdxhiw .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#loarrdxhiw .gt_font_normal {\n  font-weight: normal;\n}\n\n#loarrdxhiw .gt_font_bold {\n  font-weight: bold;\n}\n\n#loarrdxhiw .gt_font_italic {\n  font-style: italic;\n}\n\n#loarrdxhiw .gt_super {\n  font-size: 65%;\n}\n\n#loarrdxhiw .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#loarrdxhiw .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#loarrdxhiw .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#loarrdxhiw .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#loarrdxhiw .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#loarrdxhiw .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#loarrdxhiw .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#loarrdxhiw .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#loarrdxhiw div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Daily-episodes\">Daily episodes</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"2\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"Clouclip\">Clouclip</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"Clouclip  Daily episodes\" class=\"gt_row gt_right\">5.9</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"Clouclip  Daily episodes\" class=\"gt_row gt_right\">6.2</td></tr>\n    <tr><td headers=\"Clouclip  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"Clouclip  Daily episodes\" class=\"gt_row gt_right\">5.0</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n::: {#cell-fig-cluster .cell}\n\n```{.r .cell-code .hidden}\ndataCC |> \n    extract_clusters(Dis >= 100, #define the condition, greater 100 cm away\n                   cluster.duration = \"20 secs\", #define the minimum duration\n                   return.only.clusters = FALSE, #return non-clusters as well\n                   drop.empty.groups = FALSE #keep all days, even without clusters\n                   ) |> \n  # return only clusters with previous episode lengths of maximum 20 minutes:\n  filter((start - lag(end) <= duration(\"20 mins\")), is.cluster) %>%\n  add_states(dataCC, ., ) |> \n  gg_day(y.axis = Dis, y.axis.label = y.label, geom = \"line\") |> \n  gg_photoperiod(coordinates) +\n  geom_point(data = \\(x) filter(x, is.cluster), col = \"red\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: Removed 6889 rows containing missing values or values outside the scale range\n(`geom_line()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Plot of visual breaks (red dots). Black traces show distance measurement data. Grey shaded areas show nighttime between civil dusk and civil dawn](index_files/figure-html/fig-cluster-1.png){#fig-cluster width=672}\n:::\n:::\n\n\n\n\n### Light {#light}\n\nIlluminance values are very low in the example dataset from the `Clouclip` device, which would not yield satisfying summaries in the `Light` section. Thus, we will import data from the `VEET` device next. Because there are different modalities stored in the data, we need to specify which modality we want to access. `ALS` is the acronym for `Ambient Light Sensor`.\n\n\n\n::: {#cell-fig-hist-CClight .cell .column-margin}\n\n```{.r .cell-code .hidden}\ndataCC |> \n  ggplot(aes(x=Lux)) + \n  geom_histogram(bins = 100) + \n  theme_minimal() +\n  scale_x_continuous(trans = \"symlog\", breaks = c(0, 1, 10, 100, 1000))\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: Removed 67896 rows containing non-finite outside the scale range\n(`stat_bin()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Histogram of Clouclip light data](index_files/figure-html/fig-hist-CClight-1.png){#fig-hist-CClight width=672}\n:::\n:::\n\n::: {#cell-fig-VEET-overview .cell}\n\n```{.r .cell-code .hidden}\npath <- \"data/01_VEET_L.csv.zip\"\ntz <- \"US/Central\"\ndataVEET <- import$VEET(path, tz = tz, modality = \"ALS\", manual.id = \"VEET\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nMultiple files in zip: reading '01_VEET_L.csv'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: There was 1 warning in `dplyr::mutate()`.\nℹ In argument: `dplyr::across(...)`.\nCaused by warning:\n! NAs introduced by coercion\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nSuccessfully read in 304'193 observations across 1 Ids from 1 VEET-file(s).\nTimezone set is US/Central.\nThe system timezone is Europe/Berlin. Please correct if necessary!\n1 observations were dropped due to a missing or non-parseable Datetime value (e.g., non-valid timestamps during DST jumps). \n\nFirst Observation: 2024-06-04 15:00:37\nLast Observation: 2024-06-12 08:29:43\nTimespan: 7.7 days\n\nObservation intervals: \n  Id    interval.time              n pct      \n1 VEET  0s                         1 0.00033% \n2 VEET  1s                      1957 0.64334% \n3 VEET  2s                    300147 98.67025%\n4 VEET  3s                      2074 0.68181% \n5 VEET  4s                         3 0.00099% \n6 VEET  9s                         5 0.00164% \n7 VEET  10s                        3 0.00099% \n8 VEET  109s (~1.82 minutes)       1 0.00033% \n9 VEET  59077s (~16.41 hours)      1 0.00033% \n```\n\n\n:::\n\n::: {.cell-output-display}\n![Overview plot of imported VEET data](index_files/figure-html/fig-VEET-overview-1.png){#fig-VEET-overview width=576}\n:::\n:::\n\n::: {#cell-fig-hist-VEETlight .cell .column-margin}\n\n```{.r .cell-code .hidden}\ndataVEET |> \n  ggplot(aes(x=Lux)) + \n  geom_histogram(bins = 100) + \n  theme_minimal() +\n  scale_x_continuous(trans = \"symlog\", breaks = c(0, 1, 10, 100, 1000, 10^4))\n```\n\n::: {.cell-output-display}\n![Histogram of VEET light data](index_files/figure-html/fig-hist-VEETlight-1.png){#fig-hist-VEETlight width=672}\n:::\n:::\n\n\n\nThe `VEET` dataset has gaps and irregular data, similarly to the `Clouclip` data. For consistency, We will aggregate the data to 5-second intervals and set gaps explicitly. We will also remove days that have more than one hour missing data. Remaining are six days with good data coverage, as seen in @tbl-gaps2.\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ndataVEET <-\n  dataVEET |>\n  aggregate_Datetime(unit = \"5 seconds\") |> #aggregate to 5 second interval\n  gap_handler(full.days = TRUE) |>  #set implicit gaps to explicit gaps\n  add_Date_col(group.by = TRUE) |> \n  remove_partial_data(Lux, threshold.missing = \"1 hour\") #remove partial days\n```\n:::\n\n::: {#tbl-gaps2 .cell tbl-cap='Summary of missing and observed data for the VEET device'}\n\n```{.r .cell-code .hidden}\ndataVEET |> gap_table(Lux, \"Illuminance (lx)\") |>   \n  cols_hide(contains(\"_n\")) #remove the absolute number of data points\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"rkgmzfrpyl\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#rkgmzfrpyl table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#rkgmzfrpyl thead, #rkgmzfrpyl tbody, #rkgmzfrpyl tfoot, #rkgmzfrpyl tr, #rkgmzfrpyl td, #rkgmzfrpyl th {\n  border-style: none;\n}\n\n#rkgmzfrpyl p {\n  margin: 0;\n  padding: 0;\n}\n\n#rkgmzfrpyl .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#rkgmzfrpyl .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#rkgmzfrpyl .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#rkgmzfrpyl .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#rkgmzfrpyl .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rkgmzfrpyl .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rkgmzfrpyl .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#rkgmzfrpyl .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#rkgmzfrpyl .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#rkgmzfrpyl .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#rkgmzfrpyl .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#rkgmzfrpyl .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#rkgmzfrpyl .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#rkgmzfrpyl .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#rkgmzfrpyl .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#rkgmzfrpyl .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#rkgmzfrpyl .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#rkgmzfrpyl .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#rkgmzfrpyl .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rkgmzfrpyl .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#rkgmzfrpyl .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#rkgmzfrpyl .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#rkgmzfrpyl .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rkgmzfrpyl .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#rkgmzfrpyl .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#rkgmzfrpyl .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rkgmzfrpyl .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rkgmzfrpyl .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#rkgmzfrpyl .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rkgmzfrpyl .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#rkgmzfrpyl .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#rkgmzfrpyl .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rkgmzfrpyl .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rkgmzfrpyl .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#rkgmzfrpyl .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#rkgmzfrpyl .gt_left {\n  text-align: left;\n}\n\n#rkgmzfrpyl .gt_center {\n  text-align: center;\n}\n\n#rkgmzfrpyl .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#rkgmzfrpyl .gt_font_normal {\n  font-weight: normal;\n}\n\n#rkgmzfrpyl .gt_font_bold {\n  font-weight: bold;\n}\n\n#rkgmzfrpyl .gt_font_italic {\n  font-style: italic;\n}\n\n#rkgmzfrpyl .gt_super {\n  font-size: 65%;\n}\n\n#rkgmzfrpyl .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#rkgmzfrpyl .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#rkgmzfrpyl .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#rkgmzfrpyl .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#rkgmzfrpyl .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#rkgmzfrpyl .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#rkgmzfrpyl .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#rkgmzfrpyl .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#rkgmzfrpyl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"14\" class=\"gt_heading gt_title gt_font_normal\" style>Summary of available and missing data</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"14\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Variable: Illuminance (lx)</td>\n    </tr>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th rowspan=\"1\" colspan=\"1\" scope=\"col\"></th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"5\" style=\"font-weight: bold; font-weight: bold;\" scope=\"colgroup\" id=\"data_spanner\">\n        <div class=\"gt_column_spanner\">Data</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"8\" style=\"font-weight: bold; font-weight: bold;\" scope=\"colgroup\" id=\"missing_spanner\">\n        <div class=\"gt_column_spanner\">Missing</div>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"a::stub\"></th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"Regular\">\n        <div class=\"gt_column_spanner\">Regular</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"irregular_spanner\">\n        <div class=\"gt_column_spanner\">Irregular</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"Range\">\n        <div class=\"gt_column_spanner\">Range</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"interval_spanner\">\n        <div class=\"gt_column_spanner\">Interval</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"4\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"gap_spanner\">\n        <div class=\"gt_column_spanner\">Gaps</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"implicit_spanner\">\n        <div class=\"gt_column_spanner\">Implicit</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"explicit_spanner\">\n        <div class=\"gt_column_spanner\">Explicit</div>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"available_data\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"available_data_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"number_irregulars\">n<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1,2</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"total_duration\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"interval\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"number_gaps\">N</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean_gap_duration\">ø</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_data\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_data_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_implicit\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_implicit_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_explicit\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_explicit_pct\">%</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"grand_summary_stub_1\" scope=\"row\" class=\"gt_row gt_left gt_stub gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\"><span data-qmd-base64=\"KipPdmVyYWxsKio=\"><span class='gt_from_md'><strong>Overall</strong></span></span></th>\n<td headers=\"grand_summary_stub_1 available_data\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">5d 23h 57m 40s</td>\n<td headers=\"grand_summary_stub_1 available_data_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">100.0%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 number_irregulars\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"grand_summary_stub_1 total_duration\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">6d</td>\n<td headers=\"grand_summary_stub_1 interval\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5</td>\n<td headers=\"grand_summary_stub_1 number_gaps\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">8</td>\n<td headers=\"grand_summary_stub_1 mean_gap_duration\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">58s</td>\n<td headers=\"grand_summary_stub_1 missing_data\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">2m 20s</td>\n<td headers=\"grand_summary_stub_1 missing_data_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">0.0%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 missing_implicit\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"grand_summary_stub_1 missing_implicit_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">0.0%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 missing_explicit\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2m 20s</td>\n<td headers=\"grand_summary_stub_1 missing_explicit_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">0.0%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET - 2024-06-06\">VEET - 2024-06-06</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"VEET - 2024-06-06 stub_1_1 available_data\" class=\"gt_row gt_center\">23h 58m 5s</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 available_data_pct\" class=\"gt_row gt_right\">99.9%</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">3</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 mean_gap_duration\" class=\"gt_row gt_right\">38s</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 missing_data\" class=\"gt_row gt_center\">1m 55s</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 missing_data_pct\" class=\"gt_row gt_right\">0.1%</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 missing_implicit_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1m 55s</td>\n<td headers=\"VEET - 2024-06-06 stub_1_1 missing_explicit_pct\" class=\"gt_row gt_right\">0.1%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET - 2024-06-07\">VEET - 2024-06-07</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"VEET - 2024-06-07 stub_1_2 available_data\" class=\"gt_row gt_center\">1d</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 available_data_pct\" class=\"gt_row gt_right\">100.0%</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 mean_gap_duration\" class=\"gt_row gt_right\">0s</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 missing_data\" class=\"gt_row gt_center\">0s</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 missing_data_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 missing_implicit_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"VEET - 2024-06-07 stub_1_2 missing_explicit_pct\" class=\"gt_row gt_right\">0.0%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET - 2024-06-08\">VEET - 2024-06-08</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"VEET - 2024-06-08 stub_1_3 available_data\" class=\"gt_row gt_center\">23h 59m 55s</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 available_data_pct\" class=\"gt_row gt_right\">100.0%</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 mean_gap_duration\" class=\"gt_row gt_right\">5s</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 missing_data\" class=\"gt_row gt_center\">5s</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 missing_data_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 missing_implicit_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"VEET - 2024-06-08 stub_1_3 missing_explicit_pct\" class=\"gt_row gt_right\">0.0%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET - 2024-06-09\">VEET - 2024-06-09</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_4\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"VEET - 2024-06-09 stub_1_4 available_data\" class=\"gt_row gt_center\">23h 59m 50s</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 available_data_pct\" class=\"gt_row gt_right\">100.0%</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 mean_gap_duration\" class=\"gt_row gt_right\">5s</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 missing_data\" class=\"gt_row gt_center\">10s</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 missing_data_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 missing_implicit_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">10s</td>\n<td headers=\"VEET - 2024-06-09 stub_1_4 missing_explicit_pct\" class=\"gt_row gt_right\">0.0%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET - 2024-06-10\">VEET - 2024-06-10</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_5\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"VEET - 2024-06-10 stub_1_5 available_data\" class=\"gt_row gt_center\">23h 59m 55s</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 available_data_pct\" class=\"gt_row gt_right\">100.0%</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 mean_gap_duration\" class=\"gt_row gt_right\">5s</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 missing_data\" class=\"gt_row gt_center\">5s</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 missing_data_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 missing_implicit_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"VEET - 2024-06-10 stub_1_5 missing_explicit_pct\" class=\"gt_row gt_right\">0.0%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET - 2024-06-11\">VEET - 2024-06-11</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_6\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"VEET - 2024-06-11 stub_1_6 available_data\" class=\"gt_row gt_center\">23h 59m 55s</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 available_data_pct\" class=\"gt_row gt_right\">100.0%</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 mean_gap_duration\" class=\"gt_row gt_right\">5s</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 missing_data\" class=\"gt_row gt_center\">5s</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 missing_data_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 missing_implicit_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">5s</td>\n<td headers=\"VEET - 2024-06-11 stub_1_6 missing_explicit_pct\" class=\"gt_row gt_right\">0.0%</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> If n &gt; 0: it is possible that the other summary statistics are affected, as they are calculated based on the most prominent interval.</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>2</sup></span> Number of (missing or actual) observations</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span> Based on times, not necessarily number of observations</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n#### Light exposure\n\nAverages of light exposure can be calculated with just `summarize_numeric()`. See @tbl-lightexposure\n\n\n\n::: {#tbl-lightexposure .cell tbl-cap='Light exposure (mean) without transformation'}\n\n```{.r .cell-code .hidden}\ndataVEET |> \n  select(Id, Date, Datetime, Lux) |> \n  summarize_numeric(prefix = \"mean \", remove = c(\"Datetime\")) |> \n  to_mean_daily() |> \n  fmt_number(decimals = 1) |> cols_hide(`average episodes`) #table\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"cuanvxhkvc\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#cuanvxhkvc table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#cuanvxhkvc thead, #cuanvxhkvc tbody, #cuanvxhkvc tfoot, #cuanvxhkvc tr, #cuanvxhkvc td, #cuanvxhkvc th {\n  border-style: none;\n}\n\n#cuanvxhkvc p {\n  margin: 0;\n  padding: 0;\n}\n\n#cuanvxhkvc .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#cuanvxhkvc .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#cuanvxhkvc .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#cuanvxhkvc .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#cuanvxhkvc .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cuanvxhkvc .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cuanvxhkvc .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cuanvxhkvc .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#cuanvxhkvc .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#cuanvxhkvc .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#cuanvxhkvc .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#cuanvxhkvc .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#cuanvxhkvc .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#cuanvxhkvc .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#cuanvxhkvc .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#cuanvxhkvc .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#cuanvxhkvc .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#cuanvxhkvc .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#cuanvxhkvc .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cuanvxhkvc .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#cuanvxhkvc .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#cuanvxhkvc .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#cuanvxhkvc .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cuanvxhkvc .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#cuanvxhkvc .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#cuanvxhkvc .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cuanvxhkvc .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cuanvxhkvc .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#cuanvxhkvc .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cuanvxhkvc .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#cuanvxhkvc .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cuanvxhkvc .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cuanvxhkvc .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cuanvxhkvc .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cuanvxhkvc .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cuanvxhkvc .gt_left {\n  text-align: left;\n}\n\n#cuanvxhkvc .gt_center {\n  text-align: center;\n}\n\n#cuanvxhkvc .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#cuanvxhkvc .gt_font_normal {\n  font-weight: normal;\n}\n\n#cuanvxhkvc .gt_font_bold {\n  font-weight: bold;\n}\n\n#cuanvxhkvc .gt_font_italic {\n  font-style: italic;\n}\n\n#cuanvxhkvc .gt_super {\n  font-size: 65%;\n}\n\n#cuanvxhkvc .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#cuanvxhkvc .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#cuanvxhkvc .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#cuanvxhkvc .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#cuanvxhkvc .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#cuanvxhkvc .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#cuanvxhkvc .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#cuanvxhkvc .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#cuanvxhkvc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"average-mean-Lux\">average mean Lux</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"2\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET\">VEET</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"VEET  average mean Lux\" class=\"gt_row gt_right\">304.1</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"VEET  average mean Lux\" class=\"gt_row gt_right\">357.8</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"VEET  average mean Lux\" class=\"gt_row gt_right\">169.8</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\nAs light exposure data is highly skewed and zero-inflated (see @fig-hist-VEETlight & [@ZaunerEtAl2025JBR]), a transformation is sensible for the mean to be [meaningful](https://tscnlab.github.io/LightLogR/articles/log.html). The resulting illuminance is commonly much lower, due to the skew and the influence of zero values, as can be seen in @tbl-lightexposure2. [log_zero_inflated()](https://tscnlab.github.io/LightLogR/reference/log_zero_inflated.html) solves this by adding a small value to the dataset prior to logarithmic transformation. [exp_zero_inflated()](https://tscnlab.github.io/LightLogR/reference/log_zero_inflated.html) does the opposite.\n\n\n\n::: {#tbl-lightexposure2 .cell tbl-cap='Light exposure (mean) with logarithmic transformation'}\n\n```{.r .cell-code .hidden}\ndataVEET |> \n  select(Id, Date, Datetime, Lux) |> \n  mutate(Lux = Lux |> log_zero_inflated()) |> #convert to logarithmic data\n  summarize_numeric(prefix = \"mean \", remove = c(\"Datetime\")) |> \n  mean_daily(prefix = \"\") |> \n  mutate(`mean Lux` = `mean Lux` |> exp_zero_inflated()) |>\n  gt() |> fmt_number(decimals = 1) |> cols_hide(episodes) #table\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"zbfjxnlwno\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#zbfjxnlwno table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#zbfjxnlwno thead, #zbfjxnlwno tbody, #zbfjxnlwno tfoot, #zbfjxnlwno tr, #zbfjxnlwno td, #zbfjxnlwno th {\n  border-style: none;\n}\n\n#zbfjxnlwno p {\n  margin: 0;\n  padding: 0;\n}\n\n#zbfjxnlwno .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#zbfjxnlwno .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#zbfjxnlwno .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#zbfjxnlwno .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#zbfjxnlwno .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zbfjxnlwno .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zbfjxnlwno .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zbfjxnlwno .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#zbfjxnlwno .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#zbfjxnlwno .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#zbfjxnlwno .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#zbfjxnlwno .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#zbfjxnlwno .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#zbfjxnlwno .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#zbfjxnlwno .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zbfjxnlwno .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#zbfjxnlwno .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#zbfjxnlwno .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#zbfjxnlwno .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zbfjxnlwno .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#zbfjxnlwno .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#zbfjxnlwno .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#zbfjxnlwno .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zbfjxnlwno .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#zbfjxnlwno .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#zbfjxnlwno .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zbfjxnlwno .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zbfjxnlwno .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#zbfjxnlwno .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zbfjxnlwno .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#zbfjxnlwno .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zbfjxnlwno .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zbfjxnlwno .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zbfjxnlwno .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zbfjxnlwno .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zbfjxnlwno .gt_left {\n  text-align: left;\n}\n\n#zbfjxnlwno .gt_center {\n  text-align: center;\n}\n\n#zbfjxnlwno .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#zbfjxnlwno .gt_font_normal {\n  font-weight: normal;\n}\n\n#zbfjxnlwno .gt_font_bold {\n  font-weight: bold;\n}\n\n#zbfjxnlwno .gt_font_italic {\n  font-style: italic;\n}\n\n#zbfjxnlwno .gt_super {\n  font-size: 65%;\n}\n\n#zbfjxnlwno .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#zbfjxnlwno .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#zbfjxnlwno .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#zbfjxnlwno .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#zbfjxnlwno .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#zbfjxnlwno .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#zbfjxnlwno .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#zbfjxnlwno .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#zbfjxnlwno div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean-Lux\">mean Lux</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"2\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET\">VEET</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"VEET  mean Lux\" class=\"gt_row gt_right\">6.3</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"VEET  mean Lux\" class=\"gt_row gt_right\">7.9</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"VEET  mean Lux\" class=\"gt_row gt_right\">3.5</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n#### Duration per outdoor range\n\nThe same way how [distance ranges](#distance-range) were calculated, illuminance ranges are summarized, displayed in @tbl-outdoor.\n\n\n\n::: {#tbl-outdoor .cell tbl-cap='Duration in outdoor ranges'}\n\n```{.r .cell-code .hidden}\n#cutting distance into bands\nout_breaks <- c(1:3*10^3, Inf)\nout_labels <- c(\n    \"Outdoor bright\",          # [1000, 2000)\n    \"Outdoor very bright\",     # [2000, 3000)\n    \"Outdoor extremely bright\" # [3000, Inf)\n  )\n\ndataVEET <- \ndataVEET |> \n  mutate(Lux_range = \n           cut(Lux, breaks = out_breaks, labels = out_labels) #create ranges\n         )\n\ndataVEET |> \n  drop_na(Lux_range) |> #remove NAs\n  group_by(Lux_range, .add = TRUE) |> #group by ranges\n  durations(Lux) |> #calculate durations\n  pivot_wider(names_from = Lux_range, values_from = duration) |> #widen data\n  to_mean_daily(\"\") |> \n  fmt_duration(input_units = \"seconds\", output_units = \"minutes\") #show minutes\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"vgqgvwdetg\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#vgqgvwdetg table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#vgqgvwdetg thead, #vgqgvwdetg tbody, #vgqgvwdetg tfoot, #vgqgvwdetg tr, #vgqgvwdetg td, #vgqgvwdetg th {\n  border-style: none;\n}\n\n#vgqgvwdetg p {\n  margin: 0;\n  padding: 0;\n}\n\n#vgqgvwdetg .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vgqgvwdetg .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#vgqgvwdetg .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vgqgvwdetg .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vgqgvwdetg .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vgqgvwdetg .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vgqgvwdetg .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vgqgvwdetg .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vgqgvwdetg .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vgqgvwdetg .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vgqgvwdetg .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vgqgvwdetg .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vgqgvwdetg .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#vgqgvwdetg .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#vgqgvwdetg .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vgqgvwdetg .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vgqgvwdetg .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vgqgvwdetg .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vgqgvwdetg .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vgqgvwdetg .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vgqgvwdetg .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vgqgvwdetg .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#vgqgvwdetg .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vgqgvwdetg .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vgqgvwdetg .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vgqgvwdetg .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vgqgvwdetg .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vgqgvwdetg .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vgqgvwdetg .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vgqgvwdetg .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vgqgvwdetg .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vgqgvwdetg .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vgqgvwdetg .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vgqgvwdetg .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vgqgvwdetg .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vgqgvwdetg .gt_left {\n  text-align: left;\n}\n\n#vgqgvwdetg .gt_center {\n  text-align: center;\n}\n\n#vgqgvwdetg .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vgqgvwdetg .gt_font_normal {\n  font-weight: normal;\n}\n\n#vgqgvwdetg .gt_font_bold {\n  font-weight: bold;\n}\n\n#vgqgvwdetg .gt_font_italic {\n  font-style: italic;\n}\n\n#vgqgvwdetg .gt_super {\n  font-size: 65%;\n}\n\n#vgqgvwdetg .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#vgqgvwdetg .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vgqgvwdetg .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vgqgvwdetg .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vgqgvwdetg .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vgqgvwdetg .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vgqgvwdetg .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#vgqgvwdetg .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#vgqgvwdetg div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Outdoor-bright\">Outdoor bright</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Outdoor-very-bright\">Outdoor very bright</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Outdoor-extremely-bright\">Outdoor extremely bright</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"4\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET\">VEET</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"VEET  Outdoor bright\" class=\"gt_row gt_center\">24m</td>\n<td headers=\"VEET  Outdoor very bright\" class=\"gt_row gt_center\">32m</td>\n<td headers=\"VEET  Outdoor extremely bright\" class=\"gt_row gt_center\">55m</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"VEET  Outdoor bright\" class=\"gt_row gt_center\">29m</td>\n<td headers=\"VEET  Outdoor very bright\" class=\"gt_row gt_center\">41m</td>\n<td headers=\"VEET  Outdoor extremely bright\" class=\"gt_row gt_center\">65m</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"VEET  Outdoor bright\" class=\"gt_row gt_center\">10m</td>\n<td headers=\"VEET  Outdoor very bright\" class=\"gt_row gt_center\">10m</td>\n<td headers=\"VEET  Outdoor extremely bright\" class=\"gt_row gt_center\">30m</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\nThese states can also be easily visualized in @fig-outdoor.\n\n\n\n::: {#cell-fig-outdoor .cell}\n\n```{.r .cell-code .hidden}\ndataVEET |> \n  gg_day(y.axis = Lux, \n         y.axis.label = \"Illuminance (lx)\", \n         geom = \"line\", \n         jco_color = FALSE) |> \n  gg_state(Lux_range, aes_fill = Lux_range, alpha = 0.75) |> \n  gg_photoperiod(coordinates) +\n  scale_fill_viridis_d() +\n  labs(fill = \"Illuminance conditions\") +\n  theme(legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![Outdoor ranges throughout the measurement period. Colored areas indicate times of outdoor lighting conditions. Violett indicates values above 1000 lx, green above 2000 lx, and yellow above 3000 lx. Grey shaded areas indicate nighttime from civil dusk to civil dawn](index_files/figure-html/fig-outdoor-1.png){#fig-outdoor width=672}\n:::\n:::\n\n\n\n#### Changes indoor to outdoor\n\nTo calculate the number of times a change from indoor to outdoor happens, we can extract all states where this is the case in @tbl-changesoutdoor.\n\n\n\n::: {#tbl-changesoutdoor .cell tbl-cap='Number of times light levels change from indoor (<1000 lx) to outdoor (>1000 lx)'}\n\n```{.r .cell-code .hidden}\ndataVEET |> \n  extract_states(Outdoor, Lux >= 1000, #get all instances of states and non-states\n                 group.by.state = FALSE) |> #don't group output by the state \n  filter(!lead(Outdoor), Outdoor) |>  #keep where the prior state is FALSE and current TRUE\n  summarize_numeric(\n    prefix = \"mean \",\n    remove = c(\"Datetime\", \"Outdoor\", \"start\", \"end\", \"duration\"),\n    add.total.duration = FALSE\n    ) |> \n  mean_daily(prefix = \"\") |> \n  gt() |> fmt_number(episodes, decimals = 0) |> \n  fmt_duration(`mean epoch`, input_units = \"seconds\", output_units = \"seconds\")#table\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"igiunkumga\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#igiunkumga table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#igiunkumga thead, #igiunkumga tbody, #igiunkumga tfoot, #igiunkumga tr, #igiunkumga td, #igiunkumga th {\n  border-style: none;\n}\n\n#igiunkumga p {\n  margin: 0;\n  padding: 0;\n}\n\n#igiunkumga .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#igiunkumga .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#igiunkumga .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#igiunkumga .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#igiunkumga .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#igiunkumga .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#igiunkumga .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#igiunkumga .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#igiunkumga .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#igiunkumga .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#igiunkumga .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#igiunkumga .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#igiunkumga .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#igiunkumga .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#igiunkumga .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#igiunkumga .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#igiunkumga .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#igiunkumga .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#igiunkumga .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#igiunkumga .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#igiunkumga .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#igiunkumga .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#igiunkumga .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#igiunkumga .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#igiunkumga .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#igiunkumga .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#igiunkumga .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#igiunkumga .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#igiunkumga .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#igiunkumga .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#igiunkumga .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#igiunkumga .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#igiunkumga .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#igiunkumga .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#igiunkumga .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#igiunkumga .gt_left {\n  text-align: left;\n}\n\n#igiunkumga .gt_center {\n  text-align: center;\n}\n\n#igiunkumga .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#igiunkumga .gt_font_normal {\n  font-weight: normal;\n}\n\n#igiunkumga .gt_font_bold {\n  font-weight: bold;\n}\n\n#igiunkumga .gt_font_italic {\n  font-style: italic;\n}\n\n#igiunkumga .gt_super {\n  font-size: 65%;\n}\n\n#igiunkumga .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#igiunkumga .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#igiunkumga .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#igiunkumga .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#igiunkumga .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#igiunkumga .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#igiunkumga .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#igiunkumga .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#igiunkumga div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean-epoch\">mean epoch</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"episodes\">episodes</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"3\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET\">VEET</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"VEET  mean epoch\" class=\"gt_row gt_right\">5s</td>\n<td headers=\"VEET  episodes\" class=\"gt_row gt_right\">64</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"VEET  mean epoch\" class=\"gt_row gt_right\">5s</td>\n<td headers=\"VEET  episodes\" class=\"gt_row gt_right\">72</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"VEET  mean epoch\" class=\"gt_row gt_right\">5s</td>\n<td headers=\"VEET  episodes\" class=\"gt_row gt_right\">46</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\nThis seems rather high and is certainly influenced by the small interval of 5 seconds. Requiring that the time outside has to at least persist for 5 minutes (and slight interruptions) will bring this number down. See @tbl-changesoutdoor2 for comparison.\n\n\n\n::: {#tbl-changesoutdoor2 .cell tbl-cap='Number of times light levels change from indoor (<1000 lx) to outdoor (>1000 lx) for at least 5 minutes'}\n\n```{.r .cell-code .hidden}\ndataVEET |> \n  extract_clusters(Lux >= 1000, #cluster conditions\n                   cluster.duration = \"5 min\", #require 1 minute durations\n                   interruption.duration = \"20 secs\", #allow for short interruptions\n                   return.only.clusters = FALSE,\n                   drop.empty.groups = FALSE) |> #get all instances of clusters and non-clusters\n  filter(!lead(is.cluster), is.cluster) |>  #keep where the prior state is FALSE\n  summarize_numeric(\n    prefix = \"mean \",\n    remove = c(\"Datetime\", \"start\", \"end\", \"duration\"),\n    add.total.duration = FALSE\n    ) |> \n  mean_daily(prefix = \"\") |> \n  gt() |> fmt_number(episodes, decimals = 0) #table\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"nqwauruixe\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#nqwauruixe table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#nqwauruixe thead, #nqwauruixe tbody, #nqwauruixe tfoot, #nqwauruixe tr, #nqwauruixe td, #nqwauruixe th {\n  border-style: none;\n}\n\n#nqwauruixe p {\n  margin: 0;\n  padding: 0;\n}\n\n#nqwauruixe .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#nqwauruixe .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#nqwauruixe .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#nqwauruixe .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#nqwauruixe .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nqwauruixe .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nqwauruixe .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nqwauruixe .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#nqwauruixe .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#nqwauruixe .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#nqwauruixe .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#nqwauruixe .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#nqwauruixe .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#nqwauruixe .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#nqwauruixe .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#nqwauruixe .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#nqwauruixe .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#nqwauruixe .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#nqwauruixe .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nqwauruixe .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#nqwauruixe .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#nqwauruixe .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#nqwauruixe .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nqwauruixe .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#nqwauruixe .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#nqwauruixe .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nqwauruixe .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nqwauruixe .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#nqwauruixe .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nqwauruixe .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#nqwauruixe .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nqwauruixe .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nqwauruixe .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nqwauruixe .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nqwauruixe .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nqwauruixe .gt_left {\n  text-align: left;\n}\n\n#nqwauruixe .gt_center {\n  text-align: center;\n}\n\n#nqwauruixe .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#nqwauruixe .gt_font_normal {\n  font-weight: normal;\n}\n\n#nqwauruixe .gt_font_bold {\n  font-weight: bold;\n}\n\n#nqwauruixe .gt_font_italic {\n  font-style: italic;\n}\n\n#nqwauruixe .gt_super {\n  font-size: 65%;\n}\n\n#nqwauruixe .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#nqwauruixe .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#nqwauruixe .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#nqwauruixe .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#nqwauruixe .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#nqwauruixe .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#nqwauruixe .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#nqwauruixe .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#nqwauruixe div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean-epoch\">mean epoch</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"episodes\">episodes</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"3\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET\">VEET</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"VEET  mean epoch\" class=\"gt_row gt_center\">5s</td>\n<td headers=\"VEET  episodes\" class=\"gt_row gt_right\">5</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"VEET  mean epoch\" class=\"gt_row gt_center\">5s</td>\n<td headers=\"VEET  episodes\" class=\"gt_row gt_right\">6</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"VEET  mean epoch\" class=\"gt_row gt_center\">5s</td>\n<td headers=\"VEET  episodes\" class=\"gt_row gt_right\">4</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n#### Longest period above 1000 lx\n\nThe last `Light` aspect from @tbl-one is the longest period above 1000 lx (PAT1000). While this can be calculated based on what we have shown above by combining [extract_states()](https://tscnlab.github.io/LightLogR/reference/extract_states.html) with a simple filter for maximal duration, this metric provides a good opportunity to show that some aspects can also be calculated with dedicated [metric](https://tscnlab.github.io/LightLogR/articles/Metrics.html) functions in `LightLogR`. In this case, we use [period_above_threshold()](https://tscnlab.github.io/LightLogR/reference/period_above_threshold.html). The benefit of this approach is that multiple metrics can be calculated at once. Here, for example, we also calculate the duration above 1000 lx (TAT1000) alongside in @tbl-periodoutdoor.\n\n\n\n::: {#tbl-periodoutdoor .cell tbl-cap='Longest period (PAT1000) and total duration (TAT1000) above 1000 lx'}\n\n```{.r .cell-code .hidden}\ndataVEET |> \n  summarize(\n    period_above_threshold(Lux, \n                           Datetime, \n                           threshold = 1000, \n                           na.rm = TRUE, \n                           as.df = TRUE),\n    duration_above_threshold(Lux,\n                             Datetime,\n                             threshold = 1000,\n                             na.rm = TRUE,\n                             as.df = TRUE),\n    .groups = \"keep\") |> \n  to_mean_daily(\"\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"qciovwckwi\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#qciovwckwi table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#qciovwckwi thead, #qciovwckwi tbody, #qciovwckwi tfoot, #qciovwckwi tr, #qciovwckwi td, #qciovwckwi th {\n  border-style: none;\n}\n\n#qciovwckwi p {\n  margin: 0;\n  padding: 0;\n}\n\n#qciovwckwi .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qciovwckwi .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#qciovwckwi .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#qciovwckwi .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#qciovwckwi .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qciovwckwi .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qciovwckwi .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qciovwckwi .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qciovwckwi .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qciovwckwi .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qciovwckwi .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qciovwckwi .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qciovwckwi .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#qciovwckwi .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#qciovwckwi .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qciovwckwi .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qciovwckwi .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qciovwckwi .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qciovwckwi .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qciovwckwi .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qciovwckwi .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qciovwckwi .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#qciovwckwi .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qciovwckwi .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qciovwckwi .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qciovwckwi .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qciovwckwi .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qciovwckwi .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qciovwckwi .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qciovwckwi .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qciovwckwi .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qciovwckwi .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qciovwckwi .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qciovwckwi .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qciovwckwi .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qciovwckwi .gt_left {\n  text-align: left;\n}\n\n#qciovwckwi .gt_center {\n  text-align: center;\n}\n\n#qciovwckwi .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qciovwckwi .gt_font_normal {\n  font-weight: normal;\n}\n\n#qciovwckwi .gt_font_bold {\n  font-weight: bold;\n}\n\n#qciovwckwi .gt_font_italic {\n  font-style: italic;\n}\n\n#qciovwckwi .gt_super {\n  font-size: 65%;\n}\n\n#qciovwckwi .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#qciovwckwi .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qciovwckwi .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#qciovwckwi .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#qciovwckwi .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#qciovwckwi .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#qciovwckwi .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#qciovwckwi .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#qciovwckwi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"period-above-1000\">period above 1000</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"duration-above-1000\">duration above 1000</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"3\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET\">VEET</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"VEET  period above 1000\" class=\"gt_row gt_center\">1987s (~33.12 minutes)</td>\n<td headers=\"VEET  duration above 1000\" class=\"gt_row gt_center\">6709s (~1.86 hours)</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"VEET  period above 1000\" class=\"gt_row gt_center\">2501s (~41.68 minutes)</td>\n<td headers=\"VEET  duration above 1000\" class=\"gt_row gt_center\">8164s (~2.27 hours)</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"VEET  period above 1000\" class=\"gt_row gt_center\">702s (~11.7 minutes)</td>\n<td headers=\"VEET  duration above 1000\" class=\"gt_row gt_center\">3070s (~51.17 minutes)</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n### Spectrum\n\nSpectral data is not part of any of the datasets used in this article. Rather, it has to be reconstructed from sensor counts and a calibration matrix. The `VEET` device contains ten sensor channels that can be used for reconstruction. As these are contained in a different sensor than the ambient light sensor, a different modality needs to be imported from the same file. Data preparation will be analogous to [Light](#light). `PHO` contains the data from spectral sensor channels. For computational reasons, the data will be aggregated to `5 minutes` intervals. The first three rows are shown in @tbl-PHO.\n\n\n\n::: {#cell-fig-VEET-Spec-overview .cell}\n\n```{.r .cell-code .hidden}\ndataVEET <- import$VEET(path, tz = tz, modality = \"PHO\", manual.id = \"VEET\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nMultiple files in zip: reading '01_VEET_L.csv'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nSuccessfully read in 304'197 observations across 1 Ids from 1 VEET-file(s).\nTimezone set is US/Central.\nThe system timezone is Europe/Berlin. Please correct if necessary!\n\nFirst Observation: 2024-06-04 15:00:36\nLast Observation: 2024-06-12 08:29:43\nTimespan: 7.7 days\n\nObservation intervals: \n   Id    interval.time              n pct      \n 1 VEET  0s                         1 0.00033% \n 2 VEET  1s                      1753 0.57627% \n 3 VEET  2s                    300556 98.80340%\n 4 VEET  3s                      1873 0.61572% \n 5 VEET  4s                         3 0.00099% \n 6 VEET  6s                         1 0.00033% \n 7 VEET  7s                         2 0.00066% \n 8 VEET  9s                         5 0.00164% \n 9 VEET  109s (~1.82 minutes)       1 0.00033% \n10 VEET  59077s (~16.41 hours)      1 0.00033% \n```\n\n\n:::\n\n::: {.cell-output-display}\n![Overview plot of imported VEET spectral data](index_files/figure-html/fig-VEET-Spec-overview-1.png){#fig-VEET-Spec-overview width=576}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ndataVEET <-\n  dataVEET |>\n  aggregate_Datetime(unit = \"5 mins\") |> #aggregate to 5 minute intervals\n  gap_handler(full.days = TRUE) |>  #set implicit gaps to explicit gaps\n  add_Date_col(group.by = TRUE) |> \n  remove_partial_data(Gain, threshold.missing = \"1 hour\") #remove bad days\n```\n:::\n\n::: {#tbl-PHO .cell tbl-cap='Overview of the spectral sensor import from the VEET device'}\n\n```{.r .cell-code .hidden}\ndataVEET |> head(3) |> select(-c(modality, file.name, is.implicit, time_stamp)) |> \n  gt() |> fmt_number(s415:ClearR) \n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"clvvmslmoh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#clvvmslmoh table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#clvvmslmoh thead, #clvvmslmoh tbody, #clvvmslmoh tfoot, #clvvmslmoh tr, #clvvmslmoh td, #clvvmslmoh th {\n  border-style: none;\n}\n\n#clvvmslmoh p {\n  margin: 0;\n  padding: 0;\n}\n\n#clvvmslmoh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#clvvmslmoh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#clvvmslmoh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#clvvmslmoh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#clvvmslmoh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#clvvmslmoh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#clvvmslmoh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#clvvmslmoh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#clvvmslmoh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#clvvmslmoh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#clvvmslmoh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#clvvmslmoh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#clvvmslmoh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#clvvmslmoh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#clvvmslmoh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#clvvmslmoh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#clvvmslmoh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#clvvmslmoh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#clvvmslmoh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#clvvmslmoh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#clvvmslmoh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#clvvmslmoh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#clvvmslmoh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#clvvmslmoh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#clvvmslmoh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#clvvmslmoh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#clvvmslmoh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#clvvmslmoh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#clvvmslmoh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#clvvmslmoh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#clvvmslmoh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#clvvmslmoh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#clvvmslmoh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#clvvmslmoh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#clvvmslmoh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#clvvmslmoh .gt_left {\n  text-align: left;\n}\n\n#clvvmslmoh .gt_center {\n  text-align: center;\n}\n\n#clvvmslmoh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#clvvmslmoh .gt_font_normal {\n  font-weight: normal;\n}\n\n#clvvmslmoh .gt_font_bold {\n  font-weight: bold;\n}\n\n#clvvmslmoh .gt_font_italic {\n  font-style: italic;\n}\n\n#clvvmslmoh .gt_super {\n  font-size: 65%;\n}\n\n#clvvmslmoh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#clvvmslmoh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#clvvmslmoh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#clvvmslmoh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#clvvmslmoh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#clvvmslmoh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#clvvmslmoh .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#clvvmslmoh .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#clvvmslmoh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Datetime\">Datetime</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"integration_time\">integration_time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Gain\">Gain</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"s415\">s415</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"s445\">s445</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"s480\">s480</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"s515\">s515</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"s555\">s555</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"s590\">s590</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"s630\">s630</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"s680\">s680</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"s940\">s940</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Dark\">Dark</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"ClearL\">ClearL</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"ClearR\">ClearR</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"15\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET - 2024-06-06\">VEET - 2024-06-06</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"VEET - 2024-06-06  Datetime\" class=\"gt_row gt_right\">2024-06-06</td>\n<td headers=\"VEET - 2024-06-06  integration_time\" class=\"gt_row gt_right\">50</td>\n<td headers=\"VEET - 2024-06-06  Gain\" class=\"gt_row gt_right\">512</td>\n<td headers=\"VEET - 2024-06-06  s415\" class=\"gt_row gt_right\">0.14</td>\n<td headers=\"VEET - 2024-06-06  s445\" class=\"gt_row gt_right\">4.77</td>\n<td headers=\"VEET - 2024-06-06  s480\" class=\"gt_row gt_right\">5.89</td>\n<td headers=\"VEET - 2024-06-06  s515\" class=\"gt_row gt_right\">12.95</td>\n<td headers=\"VEET - 2024-06-06  s555\" class=\"gt_row gt_right\">27.06</td>\n<td headers=\"VEET - 2024-06-06  s590\" class=\"gt_row gt_right\">41.85</td>\n<td headers=\"VEET - 2024-06-06  s630\" class=\"gt_row gt_right\">54.49</td>\n<td headers=\"VEET - 2024-06-06  s680\" class=\"gt_row gt_right\">33.61</td>\n<td headers=\"VEET - 2024-06-06  s940\" class=\"gt_row gt_right\">14.67</td>\n<td headers=\"VEET - 2024-06-06  Dark\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"VEET - 2024-06-06  ClearL\" class=\"gt_row gt_right\">92.84</td>\n<td headers=\"VEET - 2024-06-06  ClearR\" class=\"gt_row gt_right\">95.39</td></tr>\n    <tr><td headers=\"VEET - 2024-06-06  Datetime\" class=\"gt_row gt_right\">2024-06-06 00:05:00</td>\n<td headers=\"VEET - 2024-06-06  integration_time\" class=\"gt_row gt_right\">50</td>\n<td headers=\"VEET - 2024-06-06  Gain\" class=\"gt_row gt_right\">512</td>\n<td headers=\"VEET - 2024-06-06  s415\" class=\"gt_row gt_right\">0.14</td>\n<td headers=\"VEET - 2024-06-06  s445\" class=\"gt_row gt_right\">4.69</td>\n<td headers=\"VEET - 2024-06-06  s480\" class=\"gt_row gt_right\">5.87</td>\n<td headers=\"VEET - 2024-06-06  s515\" class=\"gt_row gt_right\">12.95</td>\n<td headers=\"VEET - 2024-06-06  s555\" class=\"gt_row gt_right\">26.82</td>\n<td headers=\"VEET - 2024-06-06  s590\" class=\"gt_row gt_right\">41.33</td>\n<td headers=\"VEET - 2024-06-06  s630\" class=\"gt_row gt_right\">54.07</td>\n<td headers=\"VEET - 2024-06-06  s680\" class=\"gt_row gt_right\">33.25</td>\n<td headers=\"VEET - 2024-06-06  s940\" class=\"gt_row gt_right\">14.69</td>\n<td headers=\"VEET - 2024-06-06  Dark\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"VEET - 2024-06-06  ClearL\" class=\"gt_row gt_right\">91.93</td>\n<td headers=\"VEET - 2024-06-06  ClearR\" class=\"gt_row gt_right\">94.81</td></tr>\n    <tr><td headers=\"VEET - 2024-06-06  Datetime\" class=\"gt_row gt_right\">2024-06-06 00:10:00</td>\n<td headers=\"VEET - 2024-06-06  integration_time\" class=\"gt_row gt_right\">50</td>\n<td headers=\"VEET - 2024-06-06  Gain\" class=\"gt_row gt_right\">512</td>\n<td headers=\"VEET - 2024-06-06  s415\" class=\"gt_row gt_right\">0.14</td>\n<td headers=\"VEET - 2024-06-06  s445\" class=\"gt_row gt_right\">4.73</td>\n<td headers=\"VEET - 2024-06-06  s480\" class=\"gt_row gt_right\">5.94</td>\n<td headers=\"VEET - 2024-06-06  s515\" class=\"gt_row gt_right\">12.98</td>\n<td headers=\"VEET - 2024-06-06  s555\" class=\"gt_row gt_right\">27.39</td>\n<td headers=\"VEET - 2024-06-06  s590\" class=\"gt_row gt_right\">42.43</td>\n<td headers=\"VEET - 2024-06-06  s630\" class=\"gt_row gt_right\">55.07</td>\n<td headers=\"VEET - 2024-06-06  s680\" class=\"gt_row gt_right\">33.80</td>\n<td headers=\"VEET - 2024-06-06  s940\" class=\"gt_row gt_right\">15.15</td>\n<td headers=\"VEET - 2024-06-06  Dark\" class=\"gt_row gt_right\">0.00</td>\n<td headers=\"VEET - 2024-06-06  ClearL\" class=\"gt_row gt_right\">93.63</td>\n<td headers=\"VEET - 2024-06-06  ClearR\" class=\"gt_row gt_right\">96.57</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\nThe channels `s415` through `ClearR` contain raw sensor counts and need to be normalized by the `Gain` value. Further, `ClearL` and `ClearR` need to be averaged prior to spectral reconstruction. The appropriate `gain.ratio.table` for the sensor `TSL2585` is integrated in `LightLogR`, but should also be confirmed by the manufacturer.\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ncount.columns <- c(\"s415\", \"s445\", \"s480\", \"s515\", \"s555\", \"s590\", \"s630\", \n                      \"s680\", \"s940\", \"Dark\", \"ClearL\", \"ClearR\") #column names\n#normalize data\ndataVEET <-\n  dataVEET |> \n  normalize_counts( #function to normalize counts\n    gain.columns = rep(\"Gain\", 12), #all sensor channels share the gain value\n    count.columns = count.columns, #senso channels to normalize\n    gain.ratio.tables$TSL2585 #gain ratio channel for TSL2585 sensor\n  )\n#average Clear Channels\ndataVEET <- \n  dataVEET |> \n  mutate(Clear.normalized = (ClearL+ClearR)/2)\n\n#remove raw sensor counts and rename normalized values\ndataVEET <-\n  dataVEET |> \n    select(-c(s415:ClearR)) |> \n    rename_with(\\(x) str_remove(x, \".normalized\"))\n```\n:::\n\n\n\nThis closes the necessary preparation in the dataset. The calibration matrix was provided by the manufacturer and is specific to the make and model. It should not be used for research purposes without confirming its accuracy with the manufacturer.\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#import calibration matrix\ncalib_mtx <- \n  read_csv(\"data/VEET_calibration_matrix.csv\", show_col_types = FALSE) |> \n  column_to_rownames(\"wavelength\") |> \n  as.matrix()\n```\n:::\n\n\n\nConstruction the spectrum is now straightforward.\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ndataVEET <-\n  dataVEET |> \n    mutate(Spectrum = \n             spectral_reconstruction(\n               sensor_channels = pick(s415:s940, Clear),\n               calibration_matrix = calib_mtx\n               )\n           )\n```\n:::\n\n\n\nThe dataset now contains a `list-column` containing the spectrum for each observation. We can visualize the data in @fig-spectrum.\n\n\n\n::: {#cell-fig-spectrum .cell}\n\n```{.r .cell-code .hidden}\ndataVEET |>\n  unnest(Spectrum) |> #unnest the list column\n  group_by(Datetime) |> #group by each spectrum\n  mutate(irradiance = irradiance/max(irradiance)) |> #scale spectra relative\n  ggplot(aes(x=wavelength, y = irradiance, group = Datetime)) + #plot\n  geom_path(alpha = 0.15) +\n  theme_minimal() +\n  labs(y = \"Relative spectral irradiance (%)\", x = \"Wavelength (nm)\") + \n  scale_y_continuous(labels = scales::label_percent())+\n  coord_cartesian(xlim = c(400, 700), ylim = c(0,1), expand = FALSE) +\n  theme(plot.margin = margin(10,20,10,10))\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: Removed 400545 rows containing missing values or values outside the scale range\n(`geom_path()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Reconstructed light spectra. The plot shows light spectra for 5-minute aggregated time intervals across the whole dataset](index_files/figure-html/fig-spectrum-1.png){#fig-spectrum width=672}\n:::\n:::\n\n\n\nThese spectral data will be the basis to calculate the last two metrics. Note that spectrum-based metrics are less developed in scientific research, compared to, e.g., distance and light. The following two examples thus simply show theoretical use cases that can be adapted to a researchers need.\n\n#### Ratio of short vs. long wavelength light\n\nThe first spectral metric requires integration across two sections of the spectrum. [spectral_integration()](https://tscnlab.github.io/LightLogR/reference/spectral_integration.html) makes this task straight forward. The results can be seen in @tbl-ratio\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ndataVEET <- \ndataVEET |> \n  select(Id, Date, Datetime, Spectrum) |> \n  mutate(\n    short = Spectrum |> map_dbl(spectral_integration, #short wavelength\n                                   wavelength.range = c(400,500)),\n    long = Spectrum |> map_dbl(spectral_integration, #long wavelength\n                                  wavelength.range = c(600,700)),\n    `sl ratio` = short / long # calculate the ratio\n  )\n```\n:::\n\n::: {#tbl-ratio .cell tbl-cap='Ratio of short vs. long wavelength light'}\n\n```{.r .cell-code .hidden}\ndataVEET |> \n  summarize_numeric(prefix = \"\", remove = c(\"Datetime\", \"Spectrum\")) |> \n  mean_daily(prefix = \"\") |>\n  gt() |> fmt_number(-`sl ratio`, decimals = 0) |> cols_hide(episodes) # table\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"qsouzrnxkm\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#qsouzrnxkm table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#qsouzrnxkm thead, #qsouzrnxkm tbody, #qsouzrnxkm tfoot, #qsouzrnxkm tr, #qsouzrnxkm td, #qsouzrnxkm th {\n  border-style: none;\n}\n\n#qsouzrnxkm p {\n  margin: 0;\n  padding: 0;\n}\n\n#qsouzrnxkm .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qsouzrnxkm .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#qsouzrnxkm .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#qsouzrnxkm .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#qsouzrnxkm .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qsouzrnxkm .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qsouzrnxkm .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qsouzrnxkm .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qsouzrnxkm .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qsouzrnxkm .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qsouzrnxkm .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qsouzrnxkm .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qsouzrnxkm .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#qsouzrnxkm .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#qsouzrnxkm .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qsouzrnxkm .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qsouzrnxkm .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qsouzrnxkm .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qsouzrnxkm .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qsouzrnxkm .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qsouzrnxkm .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qsouzrnxkm .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#qsouzrnxkm .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qsouzrnxkm .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qsouzrnxkm .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qsouzrnxkm .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qsouzrnxkm .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qsouzrnxkm .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qsouzrnxkm .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qsouzrnxkm .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qsouzrnxkm .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qsouzrnxkm .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qsouzrnxkm .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qsouzrnxkm .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qsouzrnxkm .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qsouzrnxkm .gt_left {\n  text-align: left;\n}\n\n#qsouzrnxkm .gt_center {\n  text-align: center;\n}\n\n#qsouzrnxkm .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qsouzrnxkm .gt_font_normal {\n  font-weight: normal;\n}\n\n#qsouzrnxkm .gt_font_bold {\n  font-weight: bold;\n}\n\n#qsouzrnxkm .gt_font_italic {\n  font-style: italic;\n}\n\n#qsouzrnxkm .gt_super {\n  font-size: 65%;\n}\n\n#qsouzrnxkm .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#qsouzrnxkm .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qsouzrnxkm .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#qsouzrnxkm .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#qsouzrnxkm .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#qsouzrnxkm .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#qsouzrnxkm .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#qsouzrnxkm .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#qsouzrnxkm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"short\">short</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"long\">long</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sl-ratio\">sl ratio</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"4\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET\">VEET</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"VEET  short\" class=\"gt_row gt_right\">37</td>\n<td headers=\"VEET  long\" class=\"gt_row gt_right\">102</td>\n<td headers=\"VEET  sl ratio\" class=\"gt_row gt_right\">-0.7410509</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"VEET  short\" class=\"gt_row gt_right\">70</td>\n<td headers=\"VEET  long\" class=\"gt_row gt_right\">135</td>\n<td headers=\"VEET  sl ratio\" class=\"gt_row gt_right\">-0.5457927</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"VEET  short\" class=\"gt_row gt_right\">−46</td>\n<td headers=\"VEET  long\" class=\"gt_row gt_right\">20</td>\n<td headers=\"VEET  sl ratio\" class=\"gt_row gt_right\">-1.2291965</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n#### Short-wavelength light at certain times of day\n\nFor the last metric we will look at only the `short` wavelength contribution (which was already calculated in the previous section), but do so through certain times of day. @tbl-shortfilter shows the first approach, which is about exclusively looking at local time (arbitrarily around noon). @fig-shorttime expands this view to all hours of the day with a binned approach. Lastly, @tbl-daytime focuses on photoperiods.\n\n::: {.panel-tabset}\n\n##### Local time\n\n\n\n::: {#tbl-shortfilter .cell tbl-cap='Short wavelength light exposure between 11:00 and 14:00'}\n\n```{.r .cell-code .hidden}\ndataVEET |> \n  filter_Time(start = \"11:00:00\", end = \"14:00:00\") |> #filter out certain times\n  select(-c(Spectrum, long, `sl ratio`, Time, Datetime)) |> \n  summarize_numeric(prefix = \"\") |> \n  mean_daily(prefix = \"\") |> \n  gt() |> fmt_number(short) |> cols_label(short = \"Short wavelength irradiance\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"nlybwaxakp\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#nlybwaxakp table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#nlybwaxakp thead, #nlybwaxakp tbody, #nlybwaxakp tfoot, #nlybwaxakp tr, #nlybwaxakp td, #nlybwaxakp th {\n  border-style: none;\n}\n\n#nlybwaxakp p {\n  margin: 0;\n  padding: 0;\n}\n\n#nlybwaxakp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#nlybwaxakp .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#nlybwaxakp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#nlybwaxakp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#nlybwaxakp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nlybwaxakp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nlybwaxakp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nlybwaxakp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#nlybwaxakp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#nlybwaxakp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#nlybwaxakp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#nlybwaxakp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#nlybwaxakp .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#nlybwaxakp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#nlybwaxakp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#nlybwaxakp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#nlybwaxakp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#nlybwaxakp .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#nlybwaxakp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nlybwaxakp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#nlybwaxakp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#nlybwaxakp .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#nlybwaxakp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nlybwaxakp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#nlybwaxakp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#nlybwaxakp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nlybwaxakp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nlybwaxakp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#nlybwaxakp .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nlybwaxakp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#nlybwaxakp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nlybwaxakp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nlybwaxakp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nlybwaxakp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nlybwaxakp .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nlybwaxakp .gt_left {\n  text-align: left;\n}\n\n#nlybwaxakp .gt_center {\n  text-align: center;\n}\n\n#nlybwaxakp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#nlybwaxakp .gt_font_normal {\n  font-weight: normal;\n}\n\n#nlybwaxakp .gt_font_bold {\n  font-weight: bold;\n}\n\n#nlybwaxakp .gt_font_italic {\n  font-style: italic;\n}\n\n#nlybwaxakp .gt_super {\n  font-size: 65%;\n}\n\n#nlybwaxakp .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#nlybwaxakp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#nlybwaxakp .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#nlybwaxakp .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#nlybwaxakp .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#nlybwaxakp .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#nlybwaxakp .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#nlybwaxakp .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#nlybwaxakp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"short\">Short wavelength irradiance</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"episodes\">episodes</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"3\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"VEET\">VEET</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"VEET  short\" class=\"gt_row gt_right\">−184.21</td>\n<td headers=\"VEET  episodes\" class=\"gt_row gt_right\">37</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"VEET  short\" class=\"gt_row gt_right\">−202.23</td>\n<td headers=\"VEET  episodes\" class=\"gt_row gt_right\">37</td></tr>\n    <tr><td headers=\"VEET  Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"VEET  short\" class=\"gt_row gt_right\">−139.14</td>\n<td headers=\"VEET  episodes\" class=\"gt_row gt_right\">37</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n##### Across the day\n\n\n\n::: {#cell-fig-shorttime .cell}\n\n```{.r .cell-code .hidden}\n#creating the data\ndataVEETtime <-\n  dataVEET |>\n  cut_Datetime(unit = \"1 hour\", #create time sections of one hour\n               type = \"floor\",\n               group_by = TRUE) |>\n  select(-c(Spectrum, long, `sl ratio`, Datetime)) |>\n  summarize_numeric(prefix = \"\") |>\n  group_by(Datetime.rounded, .drop = FALSE) |> #group by the time state\n  mean_daily(prefix = \"\", sub.zero = TRUE) |>\n  add_Time_col(Datetime.rounded) #add a time column for plotting\n\n#creating the plot\ndataVEETtime |> \n  ggplot(aes(x=Time, y = short/max(short))) +\n  geom_col(aes(fill = Date), position = \"dodge\") +\n  ggsci::scale_fill_jco() +\n  theme_minimal() +\n  labs(y = \"Relative short wavelength contribution (%)\", \n       x = \"Local time (HH:MM)\") + \n  scale_y_continuous(labels = scales::label_percent()) +\n  scale_x_time(labels = scales::label_time(format = \"%H:%M\"))\n```\n\n::: {.cell-output-display}\n![Short wavelength light exposure across the day](index_files/figure-html/fig-shorttime-1.png){#fig-shorttime width=672}\n:::\n:::\n\n\n\n##### Photoperiod\n\n\n\n::: {#tbl-daytime .cell tbl-cap='Short wavelength light exposure during the day and at night'}\n\n```{.r .cell-code .hidden}\ndataVEET |>\n  select(-c(Spectrum, long, `sl ratio`)) |>\n  add_photoperiod(coordinates) |> \n  group_by(photoperiod.state, .add = TRUE) |> \n  summarize_numeric(prefix = \"\", \n                    remove = c(\"dawn\", \"dusk\", \"photoperiod\", \"Datetime\")) |> \n  group_by(photoperiod.state) |> \n  mean_daily(prefix = \"\") |> \n  select(-episodes) |> \n  pivot_wider(names_from =photoperiod.state, values_from = short) |> \n  gt() |> fmt_number()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"yonlagokig\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#yonlagokig table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#yonlagokig thead, #yonlagokig tbody, #yonlagokig tfoot, #yonlagokig tr, #yonlagokig td, #yonlagokig th {\n  border-style: none;\n}\n\n#yonlagokig p {\n  margin: 0;\n  padding: 0;\n}\n\n#yonlagokig .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#yonlagokig .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#yonlagokig .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#yonlagokig .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#yonlagokig .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yonlagokig .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yonlagokig .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yonlagokig .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#yonlagokig .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#yonlagokig .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#yonlagokig .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#yonlagokig .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#yonlagokig .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#yonlagokig .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#yonlagokig .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#yonlagokig .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#yonlagokig .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#yonlagokig .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#yonlagokig .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yonlagokig .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#yonlagokig .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#yonlagokig .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#yonlagokig .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yonlagokig .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#yonlagokig .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#yonlagokig .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yonlagokig .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yonlagokig .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#yonlagokig .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yonlagokig .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#yonlagokig .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yonlagokig .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yonlagokig .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yonlagokig .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yonlagokig .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yonlagokig .gt_left {\n  text-align: left;\n}\n\n#yonlagokig .gt_center {\n  text-align: center;\n}\n\n#yonlagokig .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#yonlagokig .gt_font_normal {\n  font-weight: normal;\n}\n\n#yonlagokig .gt_font_bold {\n  font-weight: bold;\n}\n\n#yonlagokig .gt_font_italic {\n  font-style: italic;\n}\n\n#yonlagokig .gt_super {\n  font-size: 65%;\n}\n\n#yonlagokig .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#yonlagokig .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#yonlagokig .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#yonlagokig .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#yonlagokig .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#yonlagokig .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#yonlagokig .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#yonlagokig .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#yonlagokig div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"day\">day</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"night\">night</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Date\" class=\"gt_row gt_left\">Mean daily</td>\n<td headers=\"day\" class=\"gt_row gt_right\">80.14</td>\n<td headers=\"night\" class=\"gt_row gt_right\">−27.73</td></tr>\n    <tr><td headers=\"Date\" class=\"gt_row gt_left\">Weekday</td>\n<td headers=\"day\" class=\"gt_row gt_right\">140.09</td>\n<td headers=\"night\" class=\"gt_row gt_right\">−33.96</td></tr>\n    <tr><td headers=\"Date\" class=\"gt_row gt_left\">Weekend</td>\n<td headers=\"day\" class=\"gt_row gt_right\">−69.73</td>\n<td headers=\"night\" class=\"gt_row gt_right\">−12.17</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n:::\n\n## Discussion and conclusion\n\nThis tutorial demonstrates how to calculate various metrics used in current and future research in a principled and standardized approach. While not brief overall, each metric has a dedicated pipeline that is verbose and comparatively easy to follow at each step. Those pipelines utilize `LightLogR`s framework and combine that with common data analysis workflows. The goal is to make the process transparent (function definitions open source), accessible (sound documentation, tutorials, speaking function and argument names, MIT license), robust (~900 unit tests for functions, continuous integration on GitHub, bug-tracking on Github), and community-driven (feature tracking on GitHub, open process for researchers who want to contribute code or suggest features).\n\nThe tutorial also demonstrates that even through these standardized pipelines, there are many decisions a researcher has to make (and document) to clean data, deal with measurement epochs, and calculate chosen metrics, especially where clusters of data are concerned, i.e., data are grouped in more than one dimension (e.g., by distance range, and minimal duration).\n\nThe slew of features aimed to explore the data and extracted metrics or clusters in plots and tables, and to handle measurement intervals, gaps, and irregular data, make `LightLogR` an excellent choice for the research field of visual experience, be it in circadian, myopia, or related fields of research.\n\n## Session info {#sessioninfo}\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.5.0 (2025-04-11)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS Sequoia 15.5\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.1\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Europe/Berlin\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] gt_1.0.0        LightLogR_0.9.2 lubridate_1.9.4 forcats_1.0.0  \n [5] stringr_1.5.1   dplyr_1.1.4     purrr_1.0.4     readr_2.1.5    \n [9] tidyr_1.3.1     tibble_3.3.0    ggplot2_3.5.2   tidyverse_2.0.0\n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.6       xfun_0.52          htmlwidgets_1.6.4  tzdb_0.5.0        \n [5] vctrs_0.6.5        tools_4.5.0        generics_0.1.4     parallel_4.5.0    \n [9] proxy_0.4-27       pkgconfig_2.0.3    KernSmooth_2.23-26 RColorBrewer_1.1-3\n[13] lifecycle_1.0.4    compiler_4.5.0     farver_2.1.2       suntools_1.0.1    \n[17] ggsci_3.2.0        janitor_2.2.1      snakecase_0.11.1   litedown_0.7      \n[21] htmltools_0.5.8.1  class_7.3-23       sass_0.4.10        yaml_2.3.10       \n[25] pillar_1.10.2      crayon_1.5.3       classInt_0.4-11    commonmark_1.9.5  \n[29] tidyselect_1.2.1   digest_0.6.37      stringi_1.8.7      sf_1.0-21         \n[33] labeling_0.4.3     cowplot_1.1.3      fastmap_1.2.0      grid_4.5.0        \n[37] cli_3.6.5          magrittr_2.0.3     base64enc_0.1-3    utf8_1.2.6        \n[41] e1071_1.7-16       withr_3.0.2        scales_1.4.0       bit64_4.6.0-1     \n[45] timechange_0.3.0   rmarkdown_2.29     bit_4.6.0          ggtext_0.1.2      \n[49] hms_1.1.3          evaluate_1.0.4     knitr_1.50         viridisLite_0.4.2 \n[53] markdown_2.0       rlang_1.1.6        gridtext_0.1.5     Rcpp_1.0.14       \n[57] glue_1.8.0         DBI_1.2.3          xml2_1.3.8         rstudioapi_0.17.1 \n[61] vroom_1.6.5        jsonlite_2.0.0     R6_2.6.1           units_0.8-7       \n```\n\n\n:::\n:::\n\n\n\n## References\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}